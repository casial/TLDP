<!--DOCTYPE section PUBLIC "-//OASIS//DTD DocBook V4.1//EN"-->
<!-- $Id$ -->

<section id="xwindow">
  <title>Nastavenia X Window Systemu</title>

  <para>Èokoµvek sa chystáte robi» s <application>X Window Systemom</application> a slovenèinou
    dokopy, sµubujem, ¾e vám to nebude fungova», ak nenastavíte totok taktok:
    <programlisting>
LC_CTYPE=sk
    </programlisting></para>

  <para>Èo to znamená a ako sa to nastavuje, tak o tom pojednáva kapitola <xref linkend="locales"
    endterm="locales.title">.</para>

  <section id="xwindow-fonts">
    <title>Slovenské fonty v X Window Systeme</title>

    <para>Predpokladám, ¾e <application>X Window System</application> máte nain¹talovaný, prípadne
      aj <application>X Font Server</application>, vaè¹inu dôle¾itých vecí sme si povedali v èasti o
      konzole, poïme si rovno nain¹talova» slovenské fonty.</para>

    <section id="xwindow-fonts-xsinstall">
      <title>In¹talácia fontov - X server</title>

      <para>Slovenské fonty pre <acronym>X</acronym> nájdeme v balíku
	<application>XFree86-ISO8859-2</application>, veµa ïal¹ích je v balíkoch
	<application>XFree-ISO8859-2-<emphasis>&lt;druh></emphasis>-fonts</application>, kde
	<emphasis>&lt;druh></emphasis> mô¾e by» <application>Type1</application>,
	<application>100dpi</application> alebo <application>75dpi</application>. Ak chcete pou¾íva»
	slovenèinu seriózne (<application>Gimp</application>, <application>Netscape</application>,
	lokalizácia), nain¹talujte si v¹etky, ak potrebujete slovenský font len napr. v
	<application>XTerme</application>, postaèí vám základný balík.</para>

      <para>Po rozbalení archívu sa fonty nachádzajú na niekoµkých miestach. V¹etky cesty k novým
	fontom si treba odpisa», zapamäta», ma» na oèiach:
	<simplelist>
	  <member><filename class="directory">/usr/share/fonts/ISO8859-2/misc</filename></member>
	  <member><filename class="directory">/usr/share/fonts/ISO8859-2/75dpi</filename></member>
	  <member><filename class="directory">/usr/share/fonts/ISO8859-2/100dpi</filename></member>
	  <member><filename class="directory">/usr/share/fonts/ISO8859-2/Type1</filename></member>
	</simplelist></para>

      <para>Tieto cesty toti¾ budeme vklada» do konfiguraèného súboru <application>X Window
	Systemu</application> (<filename>/etc/X11/XF86Config</filename>, prípadne
	<filename>/etc/X11/XF86Config-4</filename>). Tým sprístupníme X serveru fonty z týchto
	adresárov. Sekciu <computeroutput>"Files"</computeroutput> upravíme vlo¾ením riadkov
	<computeroutput>FontPath</computeroutput>:
	<programlisting>
Section "Files"
    ...  
    FontPath   "/usr/share/fonts/ISO8859-2/misc"
    FontPath   "/usr/share/fonts/ISO8859-2/75dpi"
    FontPath   "/usr/share/fonts/ISO8859-2/100dpi"
    FontPath   "/usr/share/fonts/ISO8859-2/Type1"
EndSection
	</programlisting></para>

      <para>Správne poradie riadkov s cestami k fontom nájdete v
	<citetitle>XWindow-User-HOWTO</citetitle>, ale nemali by ste ma» veµké problémy ani keï
	slovenské fonty vlo¾íte na koniec zoznamu.</para>

      <para>Za behu <application>X Window Systemu</application> pridáte nové adresáre s fontami
	príkazom
	<screen>
sh$ xset +fp /usr/share/fonts/ISO8859-2/misc, /usr/share/fonts/ISO8859-2/75dpi, &hellip;
	</screen></para>
    </section> <!-- xwindow-fonts-xsinstall -->

    <section id="xwindow-fonts-fsinstall">
      <title>In¹talácia fontov - X Font Server</title>

      <para><application>X Font Server</application> ponúka druhý spôsob spravovania fontov pre
	<application>X Window Server</application>, a to ako pre lokálnu ma¹inu, tak aj pre
	vzdialené systémy. Moderné distribúcie u¾ po in¹talácii ponúkajú nakonfigurovaný
	<application>X Font Server</application> a <application>X Window System</application>, ktorý
	vyu¾íva jeho slu¾by.</para>

      <para>Pri tomto spôsobe treba cesty k fontom vlo¾i» do konfiguraèného súboru
	<application>X Font Serveru</application> a konfigurácia v
	<filename>/etc/X11/X86Config</filename> (XF86Config-4) by mala vyzera» takto:
	<programlisting>
Section "Files"
    FontPath "unix/:7100"
EndSection
	</programlisting>
	za predpokladu, ¾e X Font Server be¾í na porte 7100 (voµba príkazového riadku
	<computeroutput>-port</computeroutput>).</para>

      <para>Ak teda pou¾ívate <application><acronym>xfs</acronym></application>, nieèo podobné ako v
	predchádzajúcej kapitole urobíte s konfiguraèným súborom pre tento program
	(<filename>/etc/X11/fs/config</filename>) v èasti
	<computeroutput>catalogue</computeroutput>:
	<programlisting>
catalogue = ...,
        /usr/share/fonts/ISO8859-2/misc,
        /usr/share/fonts/ISO8859-2/75dpi,
        /usr/share/fonts/ISO8859-2/100dpi,
        /usr/share/fonts/ISO8859-2/Type1
	</programlisting></para>

      <para>Hneï potom musí <application><acronym>xfs</acronym></application> znovu naèíta»
	konfiguraèný súbor a tým umo¾níte pou¾ívanie slovenských fontov lokálnemu aj iným
	<acronym>X</acronym> serverom:
	<screen>
sh# killall -USR1 xfs
	</screen></para>
    </section> <!-- xwindow-fonts-fsinstall -->
	
    <section id="xwindow-fonts-ttf">
      <title id="xwindow-fonts-ttf.title">Slovenské TrueType fonty</title>

      <para>Ak vlastníte legálnu kópiu systému <systemitem class="osname">WindowsXX</systemitem>
	(kde <acronym>XX</acronym> je hocièo), alebo <systemitem class="osname">MacOS</systemitem>,
	nemali by vás zavrie», ak pou¾ijete <application>TrueType</application> fonty obsiahnuté v
	ich distribúciách. Existuje aj mnoho balíkov s <application>TrueType</application> fontmi s
	podporou normy <acronym>ISO-8859-2</acronym>, ktoré sú voµne dostupné.</para>

      <para>Popis in¹talácie takýchto fontov prebehneme len v krátkosti, podrobnej¹í
	nájdete v dokumentácii k balíku <application>free-type</application>:</para>

      <procedure>
	<step>
	  <para>Skopírujte súbory s <application>TrueType</application> fontami napr. do adresára
	    <filename class="directory">/usr/share/fonts/ttf/win/</filename>. Odporúèam zmeni»
	    mená súborov s fontami aj ich prípony na malé písmená -- mal som s tým
	    problémy.</para>
	</step>

	<step>
	  <para>Vytvorte v ka¾dom adresári súbor s informáciami o scalable fontoch
	    <filename>fonts.scale</filename> nasledovným príkazom:
	    <screen>
sh# cd /usr/share/fonts/ttf/win
sh# ttmkfdir -o fonts.scale
	    </screen></para>

	  <para>Ak to nie je celkom ono a dostanete veµa chybových hlásení, alebo súbor
	    <filename>fonts.scale</filename> obsahuje príli¹ málo záznamov o fontoch v adresári,
	    skúste pou¾i» s príkazom <command>ttmkfdir</command> aj voµbu príkazoveho riadku
	    <computeroutput>-c</computeroutput>.</para>
	</step>

	<step>
	  <para>Zoznam fontov v súbore, ktorý naèítava <acronym>X</acronym> server aj
	    <application>xfs</application>, vytvoríte nasledovne:
	    <screen>
sh# cd /usr/share/fonts/ttf/win
sh# mkfontdir
	    </screen></para>
	</step>
      </procedure>

      <para>Od tohto momentu pokraèujte ¹tandardným spôsobom tak, ako je to popísané
	v predchádzajúcej èasti o konfigurácii <acronym>X</acronym> servera alebo
	<application>xfs</application>.</para>
    </section> <!-- xwindow-fonts-ttf -->

    <section id="xwindow-fonts-alias">
      <title>Èo je iné so slovenskými fontami</title>

      <para>Okrem toho, ¾e sa slovenské znaky zobrazujú správne, niè. Fonty z balíkov pre normu
	<acronym>ISO-8859-2</acronym> sa síce volajú inak, ale vzhµadom zodpovedajú ¹tandardným
	fontom. V nasledujúcej tabuµke sú uvedené zodpovedajúce dvojice fontov:
	<table>
	  <title>Slovenské ekvivalenty ¹tandardných fontov</title>
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>¹tandardne</entry>
		<entry>iso8859-2</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry>Times</entry>
		<entry>Kathimerini</entry>
	      </row>

	      <row>
		<entry>Helvetica</entry>
		<entry>Aplos</entry>
	      </row>

	      <row>
		<entry>New Century Schoolbook</entry>
		<entry>Anagnostiko</entry>
	      </row>

	      <row>
		<entry>Lucida</entry>
		<entry>Fotinos</entry>
	      </row>

	      <row>
		<entry>Utopia</entry>
		<entry>Chimera</entry>
	      </row>

	      <row>
		<entry>Charter</entry>
		<entry>Chartis</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table></para>

      <para>Berte túto tabuµku len ako informatívny údaj, ktorý pravdepodobne nikdy nebudete
	potrebova» vïaka súborom <filename>fonts.alias</filename> v adresároch so slovenskými
	fontmi. Tie zabezpeèujú nahrádzanie mien ¹tandardných fontov s uvedenou normou
	<acronym>ISO-8859-2</acronym> zodpovedajúcimi menami slovenských fontov. Napríklad
	po¾iadavka na font
	<literallayout><computeroutput>
-b&amp;h-lucida-bold-i-normal-sans-11-80-100-100-p-69-iso8859-2
	</computeroutput></literallayout>
	poskytne a teda zobrazí v skutoènosti font
	<literallayout><computeroutput>
-biznet-fotinos-bold-i-normal-sans-11-80-100-100-p-69-iso8859-2
	</computeroutput></literallayout></para>
    </section> <!-- xwindow-fonts-alias -->

    <section id="xwindow-fonts-tshooting">
      <title>Strieµanie ta¾kostí</title>

      <para>Ak budete dostáva» po spustení <acronym>X</acronym> serveru chybové hlásenia typu
	<quote><computeroutput>Can't open default font 'fixed'</computeroutput></quote> alebo
	<quote><computeroutput>unable to open font ...</computeroutput></quote>, alebo vám
	jednoducho nieèo spojené s fontami pod iXami bude kazi» náladu, uistite sa, ¾e máte v
	poriadku nasledovné veci.</para>
      
      <orderedlist>
	<listitem>
	  <para>V¹etky adresáre s fontami, samotné súbory fontov a súbory, ktoré èíta <application>X
	    Window System</application> alebo <application>X Font Server</application>, musia ma»
	    nastavené rozumné prístupové práva.</para>
	</listitem>
	    
	<listitem>
	  <para>V adresároch, v ktorých sa nachádzajú fonty, musí existova» súbor
	    <filename>fonts.dir</filename>. Ak nie, spustite v týchto adresároch program
	    <command>mkfontdir</command>. V adresároch s <application>TrueType</application> fontmi
	    musíte e¹te predtým vytvori» súbor <filename>fonts.scale</filename> tak ako je to
	    popísane v èasti
	    <xref linkend="xwindow-fonts-ttf" endterm="xwindow-fonts-ttf.title">.</para>
	</listitem>

	<listitem>
	  <para>Ak idete bez <command>xfs</command>, naozaj v¹etky adresáre s fontami musia
	    by» uvedené v súbore <filename>XF86Config</filename>.</para>
	</listitem>

	<listitem>
	  <para>V prípade, ze pou¾ívate <command>xfs</command>, tieto adresáre musia by» uvedené v
	    súbore <filename>/etc/X11/fs/config</filename>. Navy¹e, xfs musí be¾a» na nejakom porte
	    (napr.  7100) a v <filename>XF86Config</filename> musí by» cesta k fontom uvedená ako
	    adresa s èíslom toho portu, asi takto:
	    <programlisting>
FontPath "unix/:7100"
	    </programlisting></para>
	</listitem>

	<listitem>
	  <para>Po zmenách v konfiguraèných súboroch <application>X Window Systemu</application>
	    alebo <application>X Font Serveru</application> je nutný re¹tart alebo znovunaèítanie
	    nastavení:
	    <variablelist>
	      <varlistentry>
		<term><application>X Window System</application></term>
		<listitem>
		  <screen>
sh$ xset fp rehash
		  </screen>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><application>X Font Server</application></term>
		<listitem>
		  <screen>
sh# killall -USR1 xfs
		  </screen>
		</listitem>
	      </varlistentry>
	    </variablelist></para>
	</listitem>

	<listitem>
	  <para>Ak máte v <filename>inittabe</filename> nastavené spú¹»anie X serveru pri ¹tarte
	    systému (runlevel <constant>5/X</constant>), rad¹ej si to pri pokusoch s fontami zmeòte
	    na <constant>3/multiuser</constant> a¾ pokiaµ si nie ste sakramentsky istí, ¾e X server
	    pri ¹tarte nájde fonty.  Ak to neurobíte a nastavenia budú nesprávne, zaènú sa dia»
	    záhadné veci typu <quote>X server sa skonèí, lebo nenájde fonty ale init ho znovu spustí
	    a ten nenájde fonty, tak sa skonèí, ale init ho...</quote>. Znakom toho je hlá¹ka
	    <computeroutput>INIT: Id "x" respawning too fast: disabled for 5
	    minutes</computeroutput>.</para>
	</listitem>

	<listitem>
	  <para><application>X Window System</application> hµadá (pre normálneho u¾ívateµa)
	    konfiguraèné súbory v tomto poradí:
	    <simplelist>
	      <member><filename>/etc/X11/&lt;cmdline></filename></member>
	      <member><filename>/usr/X11R6/etc/X11/&lt;cmdline></filename></member>
	      <member><filename>/etc/X11/$XF86CONFIG</filename></member>
	      <member><filename>/usr/X11R6/etc/X11/$XF86CONFIG</filename></member>
	      <member><filename>/etc/X11/XF86Config-4</filename></member>
	      <member><filename>/etc/X11/XF86Config</filename></member>
	      <member><filename>/etc/XF86Config</filename></member>
	      <member><filename>/usr/X11R6/etc/X11/XF86Config.&lt;hostname></filename></member>
	      <member><filename>/usr/X11R6/etc/X11/XF86Config-4</filename></member>
	      <member><filename>/usr/X11R6/etc/X11/XF86Config</filename></member>
	      <member><filename>/usr/X11R6/lib/X11/XF86Config.&lt;hostname></filename></member>
	      <member><filename>/usr/X11R6/lib/X11/XF86Config-4</filename></member>
	      <member><filename>/usr/X11R6/lib/X11/XF86Config</filename></member>
	    </simplelist></para>

	  <para>Pamätajte na to pri editovaní konfigurákov a v¾dy sa uistite, èi neexistuje súbor,
	    ktorý je v tomto zozname vy¹¹ie, ako ten, ktorý editujete.</para>
	</listitem>
      </orderedlist>
    </section> <!-- xwindow-fonts-tshooting -->
  </section> <!-- xwindow-fonts -->
  
  <section id="xwindow-kbd">
    <title>Slovenská klávesnica v X Window Systeme</title>

    <para>Skôr jak to tu celé roztoèíme, zadajte príkaz
      <screen>
sh$ rpm -q XFree86
      </screen></para>

    <para>V¹etky tie èísla za <computeroutput>XFree86</computeroutput>, èo vám tento príkaz vypí¹e,
      udávajú verziu vá¹ho <application>XFree86 X Window Systemu</application>.</para>

    <para>Existuje presne ¹tyridsa»dva dôvodov, preèo prejs» na <application>XFree86</application>
      verziu 3.2 alebo vy¹¹iu, a len dva, preèo zosta» pri star¹ej verzii.  <systemitem
      class="osname">Red Hat Linux 6.0</systemitem> obsahuje <application>XFree86 </application>,
      verziu 3.3.3 a <systemitem class="osname">Linux Mandrake 7.0</systemitem> u¾ verziu
      3.3.6.</para>

    <para>Pokiaµ ste svoj operaèný systém nezdedili po starých rodièoch, je vysoko pravdepodobné, ¾e
      máte verziu <application>XFree86</application> vy¹¹iu ako 3.2. Inak ste naozaj krok pozadu a
      na adrese <ulink url="ftp://ftp.xfree86.org">ftp://ftp.xfree86.org</ulink> nájdete to, èo
      treba.</para>

    <para>Ak aj po predchádzajúcich slovách, upozorneniach a odporúèaniach odmietate upgrade na
      verziu 3.2, dr¾te sa nasledujúcich krokov:</para>

    <procedure>
      <step>
	<para>Ak máte <citetitle>Slovak-HOWTO</citetitle> vytlaèené na papieri, uchopte tento do
	  µavej ruky (ak ste µavák, robte v¹etko naopak), zapaµovaè do pravej, zachovavajte
	  dostatoènú vzdialenos» od iných zápalných materiálov a nekompromisne konajte.</para>
      </step>

      <step>
	<para>V prípade, ¾e máte tento súbor ulo¾ený niekde na disku, príkazom 
	  <screen>
sh$ su -c'rm -fr /'
	  </screen>
	  sa ho do niekoµkých minút po zadaní hesla zaruèene zbavíte.</para>
      </step>
    </procedure>

    <section id="xwindow-kbd-config">
      <title>Konfigurácia klávesnice</title>

      <para><application>XFree86</application> 3.2 a nov¹ie u¾ majú tzv.
	<emphasis>XKEYBOARD</emphasis> roz¹írenie, ktoré zjednodu¹uje konfiguráciu klávesnice pre
	<application>X Window System</application>. Teoreticky netreba urobi» viac ako v súbore
	<filename>/etc/X11/XF86Config</filename> vlo¾i» do sekcie
	<computeroutput>"Keyboard"</computeroutput> nieèo takéto:
	<programlisting>
Section "Keyboard"
    ...
    XkbLayout  "czsk"
    XkbVariant "us_sk_qwertz"
    XkbOptions "grp:ctrl_shift_toggle"
EndSection
	</programlisting></para>

      <para>Ak u¾ ste nebodaj u¾ívateµom <application>XFree86</application> verzie 4.0.0 alebo
	vy¹¹ej, vlo¾te do súboru <filename>/etc/X11/XF86Config-4</filename> toto:
	<programlisting>
Section "InputDevice"
    ...
    Option "XkbLayout"  "czsk"
    Option "XkbVariant" "us_sk_qwertz"
    Option "XkbOptions" "grp:ctrl_shift_toggle"
EndSection
	</programlisting></para>

      <para>Riadok v konfiguraènom súbore
	<programlisting>
XkbLayout "czsk"
	</programlisting>
	prípadne pre verziu &ge; 4
	<programlisting>
Option "XkbLayout"  "czsk"
	</programlisting>
	hovorí asi toµko, aby <acronym>X</acronym> server pou¾il popis rozlo¾enia kláves ulo¾ený v
	súbore <filename>czsk</filename>. Tento a ostatné súbory s <acronym>XKB</acronym> keymapami
	sa nachádzajú v adresári <filename class="directory">/usr/X11R6/lib/X11/xkb/symbols/
	</filename>.</para>

      <para>Bli¾¹ie si o formáte týchto súborov povieme neskôr, teraz si len otvorte
	súbor <filename>czsk</filename> a pozrite si jeho ¹truktúru -- hlavne èasti
	<computeroutput>xkb_symbols</computeroutput>. Pre slovenèinu sú dôle¾ité tieto varianty:
	<simplelist>
	  <member><computeroutput>us_sk_qwerty</computeroutput></member>
	  <member><computeroutput>us_sk_qwertz</computeroutput></member>
	  <member><computeroutput>us_sk_prog</computeroutput></member>
	  <member><computeroutput>sk_us_qwerty</computeroutput></member>
	  <member><computeroutput>sk_us_qwertz</computeroutput></member>
	  <member><computeroutput>sk_us_prog</computeroutput></member>
        </simplelist></para>
	
      <para>Niektorý z týchto re»azcov dosaïte do riadku
	<programlisting>
XkbVariant "..."
	</programlisting>
	pre star¹ie verzie <application>X Window Systemu</application>, alebo
	<programlisting>
Option "XkbVariant" "..."
	</programlisting>
	v konfiguraènom súbore pre <acronym>X</acronym> sever verzia 4.</para>

      <para>Varianty <computeroutput>us_sk_qwerty</computeroutput> a
	<computeroutput>sk_us_qwerty</computeroutput> sú prakticky toto¾né, jediný rozdiel je v tom,
	ktoré rozlo¾enie kláves bude nastavené po ¹tarte <application>X Window
	Systemu</application>. Pre <computeroutput>sk_us_*</computeroutput> je to slovenské, pre
	<computeroutput>us_sk_*</computeroutput> zase americké.</para>

      <para>Prepína» medzi slovenským a americkým rozlo¾ením kláves mo¾no klávesom
	<keycap>Scroll Lock</keycap>, prípadne aj inými, ak vlo¾íte do konfigurácie klávesnice
	riadok:
	<screen>
Options "grp:..."
	</screen>
	alebo pre <application>X Window System</application> verzie 4.0 alebo nov¹í:
	<screen>
Option "XkbOptions" "grp:..."
	</screen></para>

      <para>Èas» <computeroutput>grp:&hellip;</computeroutput> nahraïte niektorou z nasledujúcich
	mo¾ností a mô¾ete prepína» rozlo¾enia kláves pomocou danej klávesovej skratky:
	<table>
	  <title>Mo¾nosti prepínania medzi rozlo¾eniami kláves</title>
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>voµba</entry>
		<entry>prepínanie medzi rozlo¾eniami</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry>grp:ctrl_shift_toggle</entry>
		<entry>LShift + LCtrl / RShift + RCtrl</entry>
	      </row>

	      <row>
		<entry>grp:caps_toggle</entry>
		<entry>Caps Lock / LShift + RShift</entry>
	      </row>

	      <row>
		<entry>grp:ctrl_alt_toggle</entry>
		<entry>Ctrl + Alt</entry>
	      </row>
	    </tbody>
	  </tgroup>
        </table></para>

      <para>Pri nastavovaní alternatívnych klávesových kombinácií na prepínanie medzi rozlo¾eniami
	kláves si dávajte pozor, aby dané nastavenie nekolidovalo s u¾ existujúcimi klávesovými
	skratkami (napríklad vá¹ho mana¾éra okien). Napríklad pri nastavenom
	<computeroutput>ctrl_alt_toggle</computeroutput> nefunguje <keycombo> <keycap>Ctrl</keycap>
	<keycap>Alt</keycap> <keycap>Backspace</keycap> </keycombo> (<foreignphrase>Kill X
	Server</foreignphrase>).</para>
    </section> <!-- xwindow-kbd-config -->

    <section id="xwindow-kbd-keymap">
      <title>XKB keymapy</title>

      <para><application>X Window System</application> umo¾òuje definova» vlastné popisy rozlo¾enia
	kláves prakticky pre akýkoµvek jazyk. Na to slú¾ia keymap súbory -- nieèo veµmi podobné tým
	keymap súborom, o ktorých sme hovorili v èasti o nastaveniach konzoly. Formát keymap súborov
	pre <application>X Window System</application> dovoµuje vytvárat súbory s jednoduchým
	popisom len èasti klávesnice, ale aj zlo¾ité súbory s mnohými rozlo¾eniami.</para>

      <para>Naozaj nemá zmysel podrobne popisova» mo¾nosti <acronym>XKB</acronym> keymap súborov,
	snáï budú staèi» len úplné základy, ktoré vám dovolia robi» malé zmeny v u¾ existujucich
	popisoch rozlo¾enia kláves. Podstatne viac o týchto súboroch sa dozviete, keï si ich sami
	pozriete a poskú¹ate.</para>

      <para>V XKB popisoch rozlo¾enia kláves majú riadky takýto formát:
	<programlisting>
key &lt;TLDE> { [ quoteleft, asciitilde ], [ semicolon, degree ] };
	</programlisting></para>

      <para>Kµúèové slovo key oznaèuje zaèiatok definície znaku, ktorého kód nasleduje uzavretý v
	<computeroutput>&lt;</computeroutput>&nbsp;a&nbsp;<computeroutput>></computeroutput>, celá
	definicia je uzavretá v krútených zátvorkách a dvojice znakov pre ka¾dú skupinu
	(<foreignphrase>Group</foreignphrase>) sa uzavierajú do hranatých zátvoriek. Skupiny mô¾u
	by» definované napríklad takto:
	<programlisting>
name[Group1] = "US/ASCII";
name[Group2] = "Slovak";
	</programlisting></para>

      <para>Potom prvé dva znaky (<computeroutput>quoteleft</computeroutput> a <computeroutput>
	asciitilde</computeroutput>) v definícii znaku platia pre prvú skupinu (<computeroutput>
	US/ASCII</computeroutput>) a druhé dva (<computeroutput>semicolon</computeroutput> a
	<computeroutput>degree</computeroutput>) pre druhú skupinu
	(<computeroutput>Slovak</computeroutput>).</para>

      <para>Kódy jednotlivých klávesov µahko zistíte z keymap súborov, ktorých je v adresári
	<filename class="directory">/usr/X11R6/lib/X11/xkb/symbols/</filename> naozaj dos», takisto,
	názvy znakov a màtvych kláves sa veµmi nelí¹ia od tých, ktoré platia v keymap súboroch pre
	textovú konzolu. No a nakoniec, v prílohe <xref linkend="xwindow-examples-keymap"
	endterm="xwindow-examples-keymap.title"> nájdete jeden vzorový príklad slovenského
	rozlo¾enia kláves pre <application>X Window System</application>.</para>
    </section> <!-- xwindow-kbd-keymap -->
  </section> <!-- xwindow-kbd -->

  <section id="xwindow-mouse">
    <title>Slovenská my¹ v X Window Systeme</title>

    <para>Mimoriadne zlo¾ité bolo do verzie 4.0.1 nastavovanie slovenèiny pre my¹.  Na¹tastie,
      vývojári si spomenuli, ¾e i toto zariadenie a jeho ovládaèe by mali v plnej miere podporova»
      miestne nastavenia tak, ako je to napríklad u klávesnice. Dokonca sa objavili pokusy
      lokalizova» tablety a svetelné perá.</para>

    <para>V predchádzajúcich verziách <application>X Window Systemu</application> bola táto podpora
      veµmi slabo implementovaná a len niekoµkým národnostiam sa podarilo rozchodi» my¹ vo svojom
      jazyku.  Slovenskí pou¾ívatelia museli na svojich my¹iach robi» rôzne úpravy od tupírovania
      ¹núry a¾ po kastráciu, ale výsledky boli aj tak neuspokojivé.</para>

    <para>Popí¹eme si teraz v krátkosti postup poslovenèovania my¹i v <application>X Window
      Systeme</application>, verzia 4.0.1 a vy¹¹ie:</para>

    <procedure>
      <step>
	<para>Odpojte svoju my¹ od poèítaèa, poutierajte a vyle¹tite jej guµu, skontrolujte
	  mikrotlaèidlá a celkovo ju o¹etrite. Odlo¾te ju do tepla a sucha.  Dôle¾ité je aspoò raz
	  za deò k nej pristúpi» s <citetitle>Pravidlami slovenského pravopisu</citetitle> a
	  príjemným hlasom predèítava» slová zo slovníka. Po pár ty¾dòoch mô¾ete prejs» k
	  jednoduchej beletrii a rozprávkam.</para>
      </step>

      <step>
	<para>Poèas tohto obdobia odvykania my¹i od cudzích jazykov nain¹talujte slovenské fonty a
	  rozlo¾enie kláves. Takisto sa pokúste pozháòa» slovenské preklady obµúbených aplikácií
	  va¹ej my¹i. Ako pozadie obrazovky odporúèam nastavi» slovenskú zástavu a adresáre s
	  hudbou by ste mali obohati» o tituly ako Iné Kafe, Maduar a rôzne iné rockové uragány a
	  punkové smr¹te.</para>
      </step>

      <step>
	<para>Ak máte pocit, ¾e my¹ je pripravená vstúpi» do èisto slovenského prostredia va¹ich
	  iXov, opatrne ju pripojte a poukazujte jej v¹etky zákutia jej vynoveného domova.</para>
      </step>
    </procedure>
      
    <para>E¹te by som rád pripomenul, ¾e nie v¹etky my¹i sú rovnako odolné voèi zmenám národného
      prostredia a preto sa v¾dy pri kúpe my¹i informujte na mo¾nosti poslovenèovania toho ktorého
      výrobku.</para>
  </section> <!-- xwindow-mouse -->

  <section id="xwindow-examples">
    <title>Príklady</title>

    <section id="xwindow-examples-xf86config">
      <title>XF86Config-4</title>

      <para>Èas» konfiguraèného súboru X Window Systemu (4.0.1) s rozbehaným X Font Serverom,
	slovenským rozlo¾ením kláves s prepínaním medzi americkým a slovenským pomocou Shift + Ctrl.
	<programlisting>
Section "Files"
    RgbPath     "/usr/X11R6/lib/X11/rgb"
    FontPath    "unix/:7100"
    ModulePath  "/usr/X11R6/lib/modules"
EndSection

Section "InputDevice"
    Identifier	"Keyboard1"
    Driver	"Keyboard"
    Option "AutoRepeat" "500 30"
    Option "XkbRules"	"xfree86"
    Option "XkbModel"	"pc104"
    Option "XkbLayout"	"czsk"
    Option "XkbVariant" "us_sk_qwertz"
    Option "XkbOptions" "grp:ctrl_shift_toggle"
EndSection
	</programlisting></para>
    </section> <!-- xwindow-examples-xf86config -->

    <section id="xwindow-examples-keymap">
      <title id="xwindow-examples-keymap.title">XKB keymap</title>

      <para>Príklad úplne jednoduchého popisu rozlo¾enia kláves pre slovenèinu:
	<programlisting>
partial default alphanumeric_keys
xkb_symbols "sk_us" {

    name[Group1] = "Slovak";
    name[Group2] = "US/ASCII";

// line 1
    key &lt;TLDE> {     [       semicolon,      degree          ],
                     [       quoteleft,      asciitilde      ]       };
    key &lt;AE01> {     [            plus,      1               ],
                     [               1,      exclam          ]       };
    key &lt;AE02> {     [          lcaron,      2               ],
                     [               2,      at              ]       };
    key &lt;AE03> {     [          scaron,      3               ],
                     [               3,      numbersign      ]       };
    key &lt;AE04> {     [          ccaron,      4               ],
                     [               4,      dollar          ]       };
    key &lt;AE05> {     [          tcaron,      5               ],
                     [               5,      percent         ]       };
    key &lt;AE06> {     [          zcaron,      6               ],
                     [               6,      asciicircum     ]       };
    key &lt;AE07> {     [          yacute,      7               ],
                     [               7,      ampersand       ]       };
    key &lt;AE08> {     [          aacute,      8               ],
                     [               8,      asterisk        ]       };
    key &lt;AE09> {     [          iacute,      9               ],
                     [               9,      parenleft       ]       };
    key &lt;AE10> {     [          eacute,      0               ],
                     [               0,      parenright      ]       };
    key &lt;AE11> {     [           equal,      percent         ],
                     [           minus,      underscore      ]       };
    key &lt;AE12> {     [      dead_acute,      dead_caron      ],
                     [           equal,      plus            ]       };

// line 2
    key &lt;AD01> {     [               q,      Q               ],
                     [               q,      Q               ]       };
    key &lt;AD02> {     [               w,      W               ],
                     [               w,      W               ]       };
    key &lt;AD03> {     [               e,      E               ],
                     [               e,      E               ]       };
    key &lt;AD04> {     [               r,      R               ],
                     [               r,      R               ]       };
    key &lt;AD05> {     [               t,      T               ],
                     [               t,      T               ]       };
    key &lt;AD06> {     [               z,      Z               ],
                     [               y,      Y               ]       };
    key &lt;AD07> {     [               u,      U               ],
                     [               u,      U               ]       };
    key &lt;AD08> {     [               i,      I               ],
                     [               i,      I               ]       };
    key &lt;AD09> {     [               o,      O               ],
                     [               o,      O               ]       };
    key &lt;AD10> {     [               p,      P               ],
                     [               p,      P               ]       };
    key &lt;AD11> {     [          uacute,      slash           ],
                     [     bracketleft,      braceleft       ]       };
    key &lt;AD12> {     [      adiaeresis,      parenleft       ],
                     [    bracketright,      braceright      ]       };

// line 3
    key &lt;AC02> {     [               s,      S               ],
                     [               s,      S               ]       };
    key &lt;AC03> {     [               d,      D               ],
                     [               d,      D               ]       };
    key &lt;AC04> {     [               f,      F               ],
                     [               f,      F               ]       };
    key &lt;AC05> {     [               g,      G               ],
                     [               g,      G               ]       };
    key &lt;AC08> {     [               k,      K               ],
                     [               k,      K               ]       };
    key &lt;AC09> {     [               l,      L               ],
                     [               l,      L               ]       };
    key &lt;AC10> {     [     ocircumflex,      quotedbl        ],
                     [       semicolon,      colon           ]       };
    key &lt;AC11> {     [         section,      exclam          ],
                     [      quoteright,      quotedbl        ]       };

// line 4
    key &lt;AB01> {     [               y,      Y               ],
                     [               z,      Z               ]       };
    key &lt;AB02> {     [               x,      X               ],
                     [               x,      X               ]       };
    key &lt;AB04> {     [               v,      V               ],
                     [               v,      V               ]       };
    key &lt;AB05> {     [               b,      B               ],
                     [               b,      B               ]       };
    key &lt;AB06> {     [               n,      N               ],
                     [               n,      N               ]       };
    key &lt;AB07> {     [               m,      M               ],
                     [               m,      M               ]       };
    key &lt;AB08> {     [           comma,      question        ],
                     [           comma,      less            ]       };
    key &lt;AB09> {     [          period,      colon           ],
                     [          period,      greater         ]       };
    key &lt;AB10> {     [           minus,      underscore      ],
                     [           slash,      question        ]       };
    key &lt;BKSL> {     [          ncaron,      parenright      ],
                     [       backslash,      bar             ]       };
// End alphanumeric section

// begin modifier mappings
    modifier_map Shift  { Shift_L };
    modifier_map Lock   { Caps_Lock };
    modifier_map Control{ Control_L };
    modifier_map Mod3   { Mode_switch };
};
	</programlisting></para>
    </section> <!-- xwindow-examples-keymap -->
  </section> <!-- xwindow-examples -->
</section> <!-- xwindow -->

