<!--DOCTYPE section PUBLIC "-//OASIS//DTD DocBook V4.1//EN"-->
<!-- $Id$ -->

<section id="apps">
  <title id="apps.title">Poslovenèovanie konkrétnych aplikácií</title>

  <para>Èím ïalej, tým viac programov obsahuje bezproblémovú podporu jazykov iných ako angliètina.
    Napriek tomu je e¹te pár balíkov, ktoré buï pou¾ívajú vlastné rozlo¾enia kláves, alebo je treba
    nastavi» nejaké tie fonty èi premenné. V tejto kapitole si popí¹eme tie aplikácie, v ktorých je
    pre rozbehanie slovenèiny po nai¹talovaní nutné urobi» viac ako
    <computeroutput>export LANG=sk</computeroutput>.</para>

  <para>Ak chcete naozaj plnohodnotne vyu¾íva» podporu národných nastavení, v¾dy sa uistite, ¾e
    program, ktorý pou¾ívate (alebo celá distribúcia), nie je star¹í ako 6 - 12 mesiacov. Je toti¾
    mo¾né, ¾e autori pridali túto podporu len v nov¹ích verziách.</para>

  <para>Niektoré z nasledovných popisov nie sú pôvodné a niektoré nemusia by» ani odskú¹ané. Preto
    je pri ka¾dom uvedený autor a jeho adresa a prípadný zdroj, z ktorého sa návod dostal do
    <citetitle>Slovak-HOWTO</citetitle>.</para>

  <section id="apps-bash">
    <title>Bash</title>

    <para>Viï <xref linkend="apps-readline" endterm="apps-readline.title">.</para>

      
    <para>Ján 'judas' Tomka, <email>judas@linux.sk</email></para>

    <para>Bash máva nepravidelne problém pri zmene premennej <envar>LC_CTYPE</envar> a zvykne sa
      sta», ¾e znaky s diakritikou sa nevypisujú napriek správnemu nastaveniu tejto premennej.
      Zatiaµ sa mi nepodarilo zisti», kde je chyba, lebo napríklad <application>Vim</application>
      spustený z takéhoto <application>Bashu</application> funguje správne... Zatiaµ to rie¹im
      príkazom
      <screen>
bash$ exec bash
      </screen></para>

    <para>Aktuálny shell sa nahradí novým, ktorý u¾ premennú <envar>LC_CTYPE</envar> pochopí správne
      a je u¾ mo¾né zadáva» aj znaky s diakritikou.</para>
  </section> <!-- apps-bash -->
  
  <section id="apps-joe">
    <title>Joe</title>

    <para>Ján Ondrej (SAL), <email>ondrejj@salstar.shadow.sk</email></para>

    <para>Ak chcete pou¾íva» národné prostredie, potrebujete ma» nain¹talovanú slovenskú klávesnicu,
      slovenský font a navy¹e musíte povoli» zobrazovanie znakov s <acronym>ASCII</acronym> kódom
      128-255 tak, ako sú (as is). To mô¾ete spravi» zmazaním medzery pred voµbou
      <computeroutput>-asis</computeroutput> v konfiguraènom súbore <filename>joerc</filename>.
      Najèastej¹ie ho nájdete v adresári <filename class="directory">/usr/lib/joe/</filename>,
      v <systemitem class="osname">Debiane</systemitem> je v adresári
      <filename	class="directory">/etc/</filename>. Ïal¹ou mo¾nos»ou je pridanie parametra
      <computeroutput>-asis</computeroutput> pri spú¹»aní programu.</para>
  </section> <!-- apps-joe -->
  
  <section id="apps-lynx">
    <title>Lynx</title>

    <para>Ján 'judas' Tomka, <email>judas@linux.sk</email></para>

    <para>V konfigurácii <application>Lynxu</application> sa lokalizácie týkajú hlavne tieto
      nastavenia:
      <itemizedlist>
	<listitem>
	  <para><firstterm>Display character set</firstterm> (<varname>CHARACTER_SET</varname>) ---
	    kódovanie znakov na výstupe. Toto hovorí o tom, do akej znakovej sady sa budú prevádza»
	    znaky pred zobrazením na va¹ej obrazovke. Ak máte ¹tandardne nastavený slovenský font,
	    mô¾ete ma» toto v¾dy nastavené na <literal>ISO-8859-2</literal>.</para>
	</listitem>

	<listitem>
	  <para><firstterm>Assumed document character set</firstterm>
	    (<varname>ASSUME_CHARSET</varname>) --- aká znaková sada sa má pou¾i», ak html dokument
	    neobsahuje informáciu o svojom kódovaní a nastavenie <computeroutput>Raw
	    8-bit</computeroutput> je vypnuté.  <acronym>HTTP</acronym> ¹tandardom je
	    <acronym>ISO-8859-1</acronym> tak¾e tak. Väè¹inou majú dokumenty s iným kódovaním ako
	    <acronym>ISO-8859-1</acronym> informáciu o svojej znakovej sade, vtedy sa toto
	    nastavenie neberie do úvahy. Ak chcete, aby sa dokumenty, ktoré nemajú explicitne danú
	    sadu znakov, pova¾ovali za súbory s kódovaním Latin 2, nastavte si túto premennú. Mo¾no
	    ju nastavi» len v súbore <filename>/etc/lynx.cfg</filename> (teda nie pre ka¾dého
	    u¾ívateµa zvlá¹»).</para>
	</listitem>

	<listitem>
	  <para><firstterm>Raw 8-bit</firstterm> --- s týmto sa veµmi trápi» nemusíte, len v
	    prípade, ¾e sa slovenské znaky nezobrazujú správne, sa v¾dy uistite, ¾e to máte zapnuté
	    (klávesovou skratkou <keycap>@</keycap>).</para>
	</listitem>
      </itemizedlist></para>

    <para>Konfiguraèný súbor <filename>/etc/lynx.cfg</filename> upravte, aby obsahoval minimálne
      prvý riadok z
      <programlisting>
CHARACTER_SET:iso-8859-2
ASSUME_CHARSET:iso-8859-2
      </programlisting></para>

    <para>...alebo, pre u¾ívateµský konfiguraèný súbor <filename>~/.lynxrc</filename>:
      <programlisting>
character_set=Eastern European (ISO-8859-2)
      </programlisting></para>
  </section> <!-- apps-lynx -->

  <section id="apps-mdk8">
    <title>Mandrake 8</title>

    <para>Viï <xref linkend="apps-rpm4" endterm="apps-rpm4.title">.</para>

    <para>Ján 'judas' Tomka, <email>judas@linux.sk</email></para>

    <section id="apps-mdk8-nlspath">
      <title>NLSPATH</title>

      <para>Ak in¹talujete aplikácie, ktorých súbory s prelo¾enými hláseniami (*.mo) sa po
	in¹talácii nenachádzajú v adresárovej ¹truktúre pod
	<filename class="directory">/usr/share/locale/</filename>, odstráòte zo súboru
	<filename>/etc/profile</filename> riadok
	<programlisting>
export NLSPATH=/usr/share/locale/%l/%N
	</programlisting></para>

      <para>Vraj je ten riadok nutný pre <foreignphrase>level1 compliance for
	LI18NUX2000</foreignphrase>, <application>man</application> a star¹ie programy, ale ka¹µa»
	na ¹tandardy a starý ¹rot, keï to funguje len bez tej premennej. Samozrejme, ak vám to
	funguje aj s òou, zabudnite na mòa.</para>

      <para>V prípade, ¾e nemô¾ete meni» <filename>/etc/profile</filename>, vlo¾te si do svojho
	<filename>~/.profile</filename> riadok
	<programlisting>
unset NLSPATH
	</programlisting></para>
    </section> <!-- apps-mdk8-nlspath -->

    <section id="apps-mdk8-sysfontacm">
      <title>SYSFONTACM</title>

      <para>Pre správnu funkciu fontov je nutné okrem <envar>LC_CTYPE</envar> a
	<envar>SYSFONT</envar> nastavi» aj premennú <envar>SYSFONTACM</envar> v súbore
	<filename>/etc/sysconfig/i18n</filename>. No ak máte vlastný ú¾ívateµský súbor
	<filename>~/.i18n</filename>, globálny sa nenaèíta a premenná <envar>SYSFONTACM</envar> sa
	nenastaví. Preto v¾dy vlo¾te do svojho u¾ívateµského súboru riadok:
	<programlisting>
SYSFONTACM=iso02
	</programlisting></para>

      <para>Na vine je skript <filename>/etc/profile.d/lang.sh</filename>, preto¾e ten po¹le na
	terminál Escape sekvenciu zavedenia u¾ívateµského fontu len v prípade, ¾e je nastavená
	premenná <envar>SYSFONTACM</envar>. Tak si ju nastavte, alebo si to nejako opravte!</para>

    </section> <!-- apps-mdk8-sysfontacm -->
  </section> <!-- apps-mdk8 -->
  
  <section id="apps-mc">
    <title>Midnight Commander</title>

    <para>Ján Ondrej (SAL), <email>ondrejj@salstar.shadow.sk</email></para>

    <para>Jeho lokalizácia je jednoduchá, preto¾e ju priamo podporuje. Klávesou <keycap>F9</keycap>
      vyvoláte menu <menuchoice><guimenu>Options</guimenu>
      <guimenuitem>Display bits...</guimenuitem></menuchoice> a zapnite voµby:
      <programlisting>
(*) Full 8 bits output
[x] Full 8 bits input
      </programlisting></para>
      
    <para>Po tomto kroku bude MC vypisova» diakritické znaky správne a bude ich mo¾né aj zadáva» z
      klávesnice. Ak sa pri vstupe do niektorých adresárov bude zobrazova» hlá¹ka
      <quote><computeroutput>Warning: Couldn't change to ...</computeroutput></quote>, tak
      potrebujete lokalizova» kni¾nicu <application>readline</application> (iba pre star¹ie
      <systemitem class="osname">RedHat</systemitem> systémy).</para>

    <formalpara><title>Rámèeky v MC (judas)</title>
      <para>Ak pou¾ívate console-tools, pre správnu funkciu rámèekov v <application>Midnight
	Commander</application> a podobných textových aplikáciách nastavte font s
	<foreignphrase>application charset map</foreignphrase>. U mòa funguje jedine táto
	kombinácia:
	<screen>
sh$ consolechars --font lat2u-16 --acm iso02
	</screen></para>
    </formalpara>
  </section> <!-- apps-mc -->

  <section id="apps-mutt">
    <title>Mutt</title>

    <para>Ján 'judas' Tomka, <email>judas@linux.sk</email></para>

    <para>Miestnych nastavení sa týkajú v konfiguraènom súbore <filename>~/.muttrc</filename>
      nasledovné premenné:
      <itemizedlist>
	<listitem>
	  <para><varname>ascii_chars</varname> -- Ak je nastavená, <application>Mutt</application>
	    pou¾ije znaky ASCII pri zobrazovaní vláken stromov pripojených súborov, namiesto znakov
	    ASC. To odporúèam, ak máte nastavený star¹í font bez podpory app-charset-map a namiesto
	    èiar a ¹ípiek sa vám zobrazujú znaky s diakritikou, alebo tieto znaky blikajú ap.</para>
	</listitem>
	
	<listitem>
	  <para><varname>charset</varname> -- Znaková sada, ktorú pou¾íva vá¹ terminál na
	    zobrazovanie a vkladanie textových dát. Nastavi» na kód znakovej sady fontu, ktorý máte
	    nastavený na konzole alebo v XTerme, atï.</para>
	</listitem>
	
	<listitem>
	  <para><varname>send_charset</varname> -- Nastavenie hlavièky mailu
	    <varname>Content-Type</varname>, konkrétne <varname>charset</varname>. Urèuje aké
	    kódovanie pou¾íva odoslaný mail. Príjemca na základe neho mô¾e spravi» prekódovanie do
	    pre neho zobraziteµnej podoby.</para>
	</listitem>
      </itemizedlist></para>
  </section> <!-- apps-mutt -->

  <section id="apps-readline">
    <title id="apps-readline.title">Readline</title>

    <para>Ján 'judas' Tomka, <email>judas@linux.sk</email></para>

    <para>V súbore s globálnymi nastaveniami <filename>/etc/inputrc</filename> alebo vo svojom
      u¾ívateµskom súbore <filename>~/.inputrc</filename> je pre správnu interpretáciu osembitových
      znakov nastavi» tieto premenné:
      <itemizedlist>
	<listitem>
	  <para><varname>convert-meta</varname> --- Ak je nastavená na `on', Readline konvertuje
	    znaky s nastaveným ôsmym bitom na sekvenciu znakov ASCII odstránením ôsmeho bitu a
	    pridaním znaku Esc na zaèiatok.</para>
	</listitem>

	<listitem>
	  <para><varname>input-meta</varname> --- Ak je nastavená na `on', Readline umo¾ní
	    osembitový vstup (neodstráni ôsmy bit z preèítaných znakov) bez ohµadu na to, èi to
	    terminál podporuje. Meno <varname>meta-flag</varname> je synonymom pre túto
	    premennú.</para>
	</listitem>

	<listitem>
	  <para><varname>output-meta</varname> --- Ak je nastavená na `on', Readline bude zobrazova»
	    znaky s nastaveným ôsmym bitom priamo a nie ako escape sekvencie.</para>
	</listitem>
      </itemizedlist></para>

    <para>Tak¾e, do jedného zo spomínaných súborov vlo¾te takéto nastavenia:
      <programlisting>
set convert-meta off
set input-meta on
set output-meta on
      </programlisting></para>
  </section> <!-- apps-readline -->

  <section id="apps-rpm4">
    <title id="apps-rpm4.title">RPM4</title>

    <para>Ján 'judas' Tomka, <email>judas@linux.sk</email></para>

    <para>Tento malý skriptík <quote>doin¹taluje</quote> slovenské preklady v¹etkých aplikácií,
      ktoré máte nain¹talované. Mô¾u vám chýba», ak ste pri in¹talácii operaèného systému nezvolili
      slovenský jazyk.</para>

    <para>
      <programlisting>
export RPM_INSTALL_LANG=sk
cd /mnt/cdrom/Mandrake/RPMS/
for i in *.rpm; do
	j=$(rpm -q --queryformat "%{NAME}" -p $i)
	if rpm -q $j; then
		rpm -Uvh --replacepkgs $i
	fi
done
      </programlisting></para>

    <para>U¾ nikdy nezabudnite nastavi» premennú <varname>RPM_INSTALL_LANG</varname>!</para>
  </section> <!-- apps-rpm4 -->

  <section id="apps-rxvt">
    <title>Rxvt</title>

    <para>Ján 'judas' Tomka, <email>judas@linux.sk</email></para>

    <para>Náprava toho, ¾e <application>Rxvt</application> vypisuje màtvy kláves priamo a neèaká na
      ïal¹í znak, s ktorým by ho skombinoval, je otázka jedného argumentu pri konfigurovaní:
      <screen>
sh$ ./configure --enable-xim
sh$ make
sh$ su -c'make install'
      </screen></para>

    <para>Týmto sa <application>Rxvt</application> skompiluje s podporou pre <acronym>XIM</acronym>
      (<foreignphrase>X Input Method</foreignphrase>) protokol. Ten umo¾òuje alternatívne metódy
      vstupu (napr. kinput2) a tie¾ správne nastavenia pre µudí, èo pou¾ívajú màtve klávesy.</para>
  </section> <!-- apps-rxvt -->

  <section id="apps-samba">
    <title>Samba</title>

    <para>Ján Ondrej (SAL), <email>ondrejj@salstar.shadow.sk</email></para>

    <para>Po nastavení lokalizácie doká¾e automaticky prekódova» znaky s diakritikou z kódovania 852
      na <acronym>ISO-8859-2</acronym>. Nastavuje sa to v konfiguraènom súbore
      <filename>/etc/smb.conf</filename> pridaním nasledujúcich riadkov do sekcie
      <computeroutput>[global]</computeroutput>:
      <programlisting>
character set = iso8859-2
client code page = 852
      </programlisting></para>
  </section> <!-- apps-samba -->
</section> <!-- apps -->

