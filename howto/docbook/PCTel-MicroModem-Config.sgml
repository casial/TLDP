<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook V4.1//EN" []>

<article id="index">

<!-- Header -->
<articleinfo>

<title>PCTel HSP MicroModem Configuration mini-HOWTO</title>

<author>
<firstname>
Sayamindu</firstname> <surname>Dasgupta</surname> <affiliation>
<address> <email>unmadindu_NO_SPAM_@Softhome.net</email> </address>
</affiliation> </author> 
<author> <firstname>Jan</firstname> <surname>Stifter</surname>
<affiliation>
<address> <email>j.stifter_NO_SPAM_@medres.ch</email> </address>
</affiliation> </author>

<revhistory>

  <revision>
    <revnumber> 2.5.10 </revnumber>
    <date>2002-12-04</date>
    <revremark> Added new FAQ entry, and other minor clean ups.</revremark>
   </revision>


  <revision>
    <revnumber> 2.5.9 </revnumber>
    <date> November 11th 2002 </date>
    <revremark> Added new driver info, made corrections and clarifications in the GCC 3 FAQ .</revremark>
   </revision>

  <revision>
    <revnumber> 2.5.8 </revnumber>
    <date> November 10th 2002 </date>
    <revremark> Added information on GCC 3, fixed typos, and other minor corrections. </revremark>
   </revision>

  <revision>
    <revnumber> 2.5.6 </revnumber>
    <date> September 21st 2002 </date>
    <revremark> Changes in the FAQ section based on reader suggestions, and general error cleanups. </revremark>
   </revision> 
    
  <revision>
    <revnumber> 2.5.5 </revnumber>
    <date> August 17th 2002 </date>
    <revremark> Made changes in driver section, and other additions </revremark>
   </revision>
		  
  <revision>
    <revnumber> 2.5.1 </revnumber>
    <date> July 20th 2002 </date>
    <revremark> Made changes in driver section, and misc. additions </revremark>
  </revision>


  <revision>
    <revnumber> 2.50 </revnumber>
    <date> June 6th 2002</date>
    <revremark> Made changes in the drivers and FAQ section, added the database info, other corrections </revremark>
  </revision>

  <revision>
    <revnumber> 2.00 </revnumber>
    <date> March 30th 2002</date>
    <revremark> Made changes in the drivers section, other corrections </revremark>
  </revision>

 <revision>
    <revnumber>1.10</revnumber>
    <date>December 4th 2001</date>
    <revremark>Cleaning up of sgml by Greg Ferguson, Relicensed under the GFDL, minor corrections</revremark>
  </revision>



  <revision>
    <revnumber>1.00</revnumber>
    <date>November 26th 2001</date>
    <revremark>First Release</revremark>
  </revision>
</revhistory>

<abstract>
<para>The purpose of this document is to guide you to make
your PCTel HSP MicroModem work in GNU/Linux.</para>
</abstract>
</articleinfo>

<!-- Section1: intro -->

 <sect1 id="intro">
   <title>Introduction</title>


<!-- Section2: copyright -->

  <sect2 id="copyright">
   <title>Copyright Information</title>

<blockquote><para>
      Copyright Â© 2002-2003 Sayamindu Dasgupta, Jan Stifter.
      Permission is granted to copy, distribute and/or modify this document
      under the terms of the GNU Free Documentation License, Version 1.1
      or any later version published by the Free Software Foundation;
      with no Invariant Sections , with no Front-Cover Texts , and with no Back-Cover Texts .
      A copy of the license is included in the section entitled "GNU
      Free Documentation License".
</para></blockquote>
  </sect2>

<!-- Section2: disclaimer -->

  <sect2 id="disclaimer">
   <title>Disclaimer</title>

   <para>The methods described in this document might damage your data or your PC or both.
    The authors will not be responsible for any damage that might arise out of the use of this document.
    Use this document <emphasis>ENTIRELY at your own risk. </emphasis></para>
   <para>
    All copyrights are held by their respective owners, unless
    specifically noted otherwise.  Use of a term in this document
    should not be regarded as affecting the validity of any trademark
    or service mark.
   </para>

   <para>
    Naming of particular products or brands should not be seen
    as endorsements.
   </para>

   <para>
    You are strongly recommended to take a backup of your system
    before major installation and backups at regular intervals.
   </para>
  </sect2>

<!-- Section2: newversions-->

  <sect2 id="newversions">
   <title>New Versions</title>


    <para>
    The latest version of this mini-HOWTO will always be made available in my
    <ulink url="http://www.peacefulaction.org/sayamindu">homepage </ulink>(many thanks to
    <ulink url="http://www.peacefulaction.org"> Peaceful Action </ulink> for hosting my homepage) in a variety of formats:
   </para>
   <para>
   <itemizedlist>
    <listitem>
     <para>
      <ulink url="http://www.peacefulaction.org/sayamindu/pctel.html">HTML</ulink>.
     </para>
    </listitem>

    <listitem>
    <para>
      <ulink url="http://www.peacefulaction.org/sayamindu/pctel.txt">plain text</ulink>.
      </para>
    </listitem>

      <listitem>
     <para>
      <ulink url="http://www.peacefulaction.org/sayamindu/pctel.pdf">PDF</ulink>.
     </para>
    </listitem>

      <listitem>
     <para>
      <ulink url="http://www.peacefulaction.org/sayamindu/pctel.rtf">RTF</ulink>.
     </para>
    </listitem>

    <listitem>
     <para>
      <ulink url="http://www.peacefulaction.org/sayamindu/pctel.tar.gz">compressed
       html (multiple pages format)</ulink>.
     </para>
    </listitem>

    <listitem>
     <para>
      <ulink url="http://www.peacefulaction.org/sayamindu/pctel.sgml">SGML source</ulink>.
     </para>
    </listitem>
   </itemizedlist>
   </para>


  </sect2>

<!-- Section2: credits -->

  <sect2 id="credits">
   <title>Credits</title>

   <para> I am extremely grateful to the howtos[NO_SPAM]@frodo.hserus.net  list members for their support, especially to <ulink url="http://geocities.com/usmbish/">USM Bish</ulink>.
</para><para>
The members of the discuss@linmodems.org list have been very helpful too, specially in the initial phase of the howto-writing.
I am also extremely grateful to Phil Richard Burchill, Rajesh Fowkar, KV Pham, Bram Vonk, Derek Cordeiro, Steven Sangster and 
Andrew Kar (akar) for their valuable suggestions and corrections.
</para>
<para>
The sgml-stuff has been done with the help of the template written by Stein Gjoen, Gregory Leblanc and Greg Ferguson.
I am also indebted to Greg Ferguson for cleaning up the mess I had made with Docbook :-).

</para>
  </sect2>

<!-- Section2: feedback -->

  <sect2 id="feedback">
   <title>Feedback</title>


<para>
If you have any comments, criticisms, ideas, additions, corrections, then please do mail them to
<email>unmadindu_NO_SPAM_@Softhome.net</email>. But for technical queries, we suggest that you ask at the
discuss@linmodems.org mailing list.</para>
<caution>
<para>
Please do not mail me with your problems. You will <emphasis>NOT</emphasis> get any answer. For answers ask at
discuss@linmodems.org. 
</para>
</caution>
   </sect2>
  <sect2 id="translations">
   <title>Translations</title>
   <para>
    <itemizedlist>
     <listitem>
      <para>
        <ulink url="www.domsilverio.com.br/phptest/pctel/">Portuguese Translation</ulink>
        by <othercredit role='translator'>
<firstname>Rafael</firstname>
<surname>Cardoso</surname>
<contrib>Translation from English to Portuguese.</contrib>
</othercredit>
 	<email>rafamvc_NO_SPAM_@yahoo.com.br</email>
      </para>
     </listitem>
</itemizedlist>
</para>
</sect2>
<sect2 id="conventions">
<title>Conventions used in this document</title>
<para>We have used a number of special formatting to indicate warning messages, commands, filenames, computer outputs etc.</para>
<para>
<variablelist>
<varlistentry>
<term>Bash commands</term>
<listitem>
<para><command> bash$ ls </command></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Notes</term>
<listitem>
<para><note><para>NOTE</para></note></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Cautions</term>
<listitem>
<para><caution><para>CAUTION</para></caution></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Info</term>
<listitem>
<para><tip><para>INFO</para></tip></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Warnings</term>
<listitem>
<para><warning><para>WARNING</para></warning></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Filename/Directory </term>
<listitem>
<para><filename>/usr/src/linux/</filename></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Applications</term>
<listitem>
<para><application>application</application></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Computer Output</term>
<listitem>
<para><computeroutput>no such file or directory</computeroutput></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Codes/scripts</term>
<listitem>
<para><programlisting>#! /bin/bash</programlisting></para>
</listitem>
</varlistentry>
<varlistentry>
<term>Large Computer Outputs</term>
<listitem>
<para><screen>logfile begins</screen></para>
</listitem>
</varlistentry>
</variablelist>
</para>
</sect2>

 </sect1>


 <sect1 id="purpose">
  <title>Purpose of the mini-HOWTO</title>
<para>The purpose of this document is to guide you to make your PCTel HSP MicroModem work in GNU/Linux.</para>
<para>First let me explain what is so "special" about these PCTel modems that made me write this guide.
These modems fall in a special class of hardware, specifically made for M$-Windows systems, and have device
drivers which are specific for &nbsp;M$-Windows ...These modems are also called &nbsp;"Winmodems" and are
one of the most troublesome pieces of hardwares for GNU/Linux. Most of the winmodems do not work
with GNU/Linux (the manufacturers use patented technologies and so drivers for these modems cannot be
developed as Open Source). For a few of these winmodems, drivers have been developed </para><para>The PCTel
modems belong to this category and fall under linmodems. </para>
<para>
<note>
<para>
<emphasis>
Please do note that PCTel provides proprietary drivers, and in the free world of GNU/Linux, proprietary drivers
are not the solution. These drivers can turn out to be a great threat as the Free Software Movement evolves and 
matures. So, at the very beginning, please consider whether you want to surrender your "freedom" to PCTel, or
whether you want to go out and buy a new modem which has a GPL'ed driver. I understand, that for many, buying
a new modem is not possible, and hence, this doc exists. But whatever you do, please do send a mail to
Mr. Jack Seller of PCTel's Public Relation department at <ulink url='mailto: jack_seller@pctel.com'> this </ulink>
address asking PCTel to release the source code of their drivers.
</emphasis>
</para>
<para>
Remember that when you are using proprietary drivers, you are giving up your freedom.
</para>
</note>
</para>
<para>
<note>
<para>
Though I am referring PCTel modems here, actually PCTel only manufactures the chips for these modems, so if you
have say, XXX modem and you get a </para><para><computeroutput>00:09.0 Communication controller: PCTel Inc HSP MicroModem
56 (rev 01)</computeroutput></para><para> when you issue the <command>bash$ lspci</command> command, then do not
worry, you have what we call a PCTel linmodem.</para>
</note>
</para>
 </sect1>



<!-- Section1: Where to get the drivers -->

 <sect1 id="downloaddrivers">
  <title>Where to get the drivers</title>
<para>Now let me come to the next obvious question, that is; Where are the drivers??</para>
<para>Well, if you are impatient, and if you have a 2.4x series kernel then go to </para>
<para><ulink url="http://linmodems.technion.ac.il/pctel-linux/">http://linmodems.technion.ac.il/pctel-linux/</ulink>, and if you
are stuck with the older 2.2.x kernels, go to <ulink url="http://modems.dewback.cl">http://modems.dewback.cl</ulink> (the exact link for
the file it self is <ulink url="http://modems.dewback.cl/pctel-2.2.tar.gz"> http://modems.dewback.cl/pctel-2.2.tar.gz </ulink>)</para>
<para>But there are a number of drivers in both the sites, and you will definitely feel confused..so read on.</para>

 </sect1>



<!-- Section1: right drivers -->

 <sect1 id="rightdrivers">
  <title>Choosing a suitable driver</title>
<para> The driver version that you will have to use depends on the kernel version you have. To know your kernel version, you will
have to issue the command </para>
<para>
<command>
uname -r
</command>
</para>
<para>
If you see something like 2.2.x, go to <ulink url="http://modems.dewback.cl">http://modems.dewback.cl</ulink> and download
the <ulink url="http://modems.dewback.cl/pctel-2.2.tar.gz">pctel 2.2x </ulink> drivers from the PCTel section of that  site.
</para>
<para>
If you see something like 2.4x, go to <ulink url="http://linmodems.technion.ac.il/pctel-linux/">http://linmodems.technion.ac.il/pctel-linux/</ulink>
and download the pctel 0.9.6 (pctel-0.9.6.tar.gz) drivers from that site.
</para>
<para>
<important>
<para>
Also note that only the pctel 0.9.6 drivers have support for the new <link linkend='amr'>AMR</link> modems.
</para>
</important>
</para>
 </sect1>

<!-- Section1: installation -->



 <sect1 id="installation">
  <title>Compiling and installing the drivers</title>
<para>The first requisite for installation is that you have a kernel source in <filename>/usr/src/linux/</filename> (see section <link linkend='kernelsrc'>7.7</link>) and it must be
configured, that is, you should have done a <command>bash$ make configure</command> and <command>bash$ make dep</command> on it.</para>
<para>While doing these make sure that you have the source for your running kernel...for example, if
you are running kernel 2.4.8 and if you have the source for kernel 2.4.9 in <filename>/usr/src/linux/</filename>,
then the drivers would not work.</para>
<para>Moreover, you must configure the kernel with isapnp and pnp support and see to the fact that you
don't have a smp/uniprocessor mismatch ( that is, running uniprocessor kernel but having a kernel
source with smp support in /usr/src/linux). Also, you will need a kernel
which supports loadable modules.</para>
<para>
And of course, you need to have gcc installed, check it by issuing the command <command>bash$ gcc -v </command>. If you do not get any errors, then everything is all right </para>
<note>
<para>
If you have gcc version 3 or above , and have problems during compiling, please refer to 
<link linkend="gcc3">this section</link> in the FAQ.
</para>
</note>
<sect2><title>Installing the 2.2x drivers.</title>
<para>Login as root.</para>
<para>Make sure that you have a 2.2.x kernel with the command <command>bash$ uname -r</command></para>
<para>Check whether the downloaded files are in your current directory with the </para>
<para><command>bash$ ls</command></para>
<para>command.
Then unpack the downloaded files with the command </para>
<para><command>bash$ tar -xzvf pctel-2.2.tar.gz</command></para>
<para>Once you have unpacked, you will be left with a <filename>~/pctel</filename> directory.</para>
<para>Move into that directory with the command</para>
<para><command>bash$ cd pctel/</command></para>
<para>There is an (<filename>install.sh</filename>) installation script that makes the job easier from now on.</para>
<para>Make this script executable with the command </para>
<para><command>bash$ chmod +x install.sh</command></para>
<para>Then, just run the script</para>
<para><command>bash$ ./install.sh</command></para>
<para>You will see a number of messages fly by as the appropriate device files/nodes are made in the /dev/
directory, the driver files are unpacked and then compiled and loaded into the memory.</para>
<para>Once the process is complete without any error messages (if you get any errors, proceed to the
<link linkend='trouble'>Troubleshooting</link> section), you will find that a new directory called <filename>lib/</filename> has been created under directory <filename>~/pctel/</filename>.
This <filename>~/pctel/lib/</filename> directory contains the drivers/modules that can be loaded into the kernel.</para>
<para>If you move into the <filename>~/pctel/lib/</filename> directory with </para>
<para><command>bash$ cd ~/pctel/lib/</command></para>
<para>and do a <command>bash$ ls</command>, you will find two files there, one called <application>pctel.o</application> and the other <application>ptserial.o</application></para>
<para>These are the two modules that are to be loaded to make the modem work.</para>
<para>To load the modules, you will have to issue the commands </para>
<para><command>bash$ insmod pctel.o</command></para>
<para><command>bash$ insmod ptserial.o</command></para>
<para>from the <filename>~/pctel/lib/</filename> directory.</para>
<para>(The install.sh script automatically does this, so you don't need to do the insmod part after running
the script, but once you reboot, you will have to load the modules by</para><para>
<command>bash$ cd</command> `your pctel directory`/lib/</para>
<para><command>bash$ insmod pctel.o</command></para>
<para><command>bash$ insmod ptserial.o </command>)</para>
</sect2>
<sect2>
<title>Installing the pctel-0.9.6 driver</title>
<para>Make sure that you have kernel 2.4.0 or greater by the command</para>
<para><command>bash$ uname -r</command></para>
<para>Unpack the downloaded files with the commands</para>
<para><command>bash$ tar -xzvf pctel-0.9.6.tar.gz</command></para>
<para>Now you will have a pctel-0.9.6 directory</para>
<para>cd into that with the command</para>
<para><command>bash$ cd pctel-0.9.6/</command></para>
<para>Now comes the complicated part.</para>
<para>To proceed further you will have to know what chip set your modem has.See section <link linkend="identify"> 9.4  </link>for more information on this.</para>
<para>Once you have got the name of the chip set, just type one of the following commands (depending on the chip set)
</para>
<para>
If you have a PCT 789 chip set,
</para>
<para>
<command>bash$
 ./configure --with-hal=pct789</command>
</para>
<para>
If you have a CM8738 chip set,
</para>
<para><command>bash$
 ./configure -with-hal=cm8738</command>
</para>
<para>
If you have a chip set integrated with an i8** chip set based box,
</para>
<para> <command>bash$
./configure --with-hal=i8xx </command>
</para>
<para>
If you have a chip set integrated with an VIA 686a  chip set based motherboard ,
</para>
<para><command>bash$
./configure --with-hal=via686a </command>
</para>
<para>
The configure script will run and a number of messages will fly past.
Check for any error messages that may fly past.
When you have the prompt again, (and if you have not got any errors),
compile the drivers with the command
</para>
<para>
<command>bash$ make
</command>
</para>
<para>
Then if you do not get any error messages , install the drivers with the command
</para>
<para>
<command>bash$ make install</command>
</para><para>
(You will have to be logged in as root for performing the last step)
</para><para>
Then just load the drivers with the commands
</para>
<para>
<command>bash$ insmod pctel</command>
</para>
<para>
<command>bash$ insmod ptserial</command>
</para>
<para>
NOTE: These commands can be issued from any directory as the <application>insmod</application> program will automatically find
the drivers <application>pctel.o</application> and <application>ptserial.o</application> in
<filename>/lib/modules/`your kernel version`/misc/ </filename>)
</para>
<para>
<note>
<para>
NOTE: If you get a message that says <computeroutput> configure: error: You must have linux kernel >= 2.4.0 installed</computeroutput>, then please refer to section
<link linkend="patch-configure"> 8.1.1 </link> for ways to solve this.
</para>
</note>
</para>
<para>
However, if you have an <link linkend='amr'>AMR</link> modem, then you will have to
use the 0.9.6 drivers.
</para>
</sect2>
<sect2>
<title>Installing the pctel-0.8.6 driver</title>
<caution>
<para>
Use this driver only if you experience problems with the pctel-0.9.6 drivers
</para>
</caution>
<para>Make sure that you have kernel 2.4.0 or greater by the command</para>
<para><command>bash$ uname -r</command></para>
<para>Unpack the downloaded files with the commands</para>
<para><command>bash$ tar -xzvf 0.8.6.tar</command></para>
<para>Now you will have a pctel-0.8.6 directory</para>
<para>cd into that with the command</para>
<para><command>bash$ cd pctel-0.8.6/</command></para>
<para>Now comes the complicated part.</para>
<para>To proceed further you will have to know what chip set your modem has.See section <link linkend="identify"> 9.4  </link>for more information on this.</para>
<para>Once you have got the name of the chip set, just type one of the following commands (depending on the chip set)
</para>
<para>
If you have a PCT 789 chip set,
</para>
<para>
<command>bash$
 ./configure --with-hal=pct789</command>
</para>
<para>
If you have a CM8738 chip set,
</para>
<para><command>bash$
 ./configure -with-hal=cm8738</command>
</para>
<para>
If you have a chip set integrated with an Intel 810 chip set based motherboard from Intel,
</para>
<para> <command>bash$
./configure --with-hal=i810intel </command>
</para>
<para>
If you have a chip set integrated with an Intel 810 chip set based motherboard from SIS,
</para>
<para> <command>bash$
./configure --with-hal=i810sis </command>
</para>
<para>
If you have a chip set integrated with an VIA 686a  chip set based motherboard ,
</para>
<para><command>bash$
./configure --with-hal=via686a </command>
</para>
<para>
The configure script will run and a number of messages will fly past.
Check for any error messages that may fly past.
When you have the prompt again, (and if you have not got any errors),
compile the drivers with the command
</para>
<para>
<command>bash$ make
</command>
</para>
<para>
Then if you do not get any error messages, install the drivers with the command
</para>
<para>
<command>bash$ make install</command>
</para><para>
(You will have to be logged in as root for performing the last step)
</para><para>
Then just load the drivers with the commands
</para>
<para>
<command>bash$ insmod pctel</command>
</para>
<para>
<command>bash$ insmod ptserial</command>
</para>
<para>
(these too, like in the case of the pctel-0.9.6 drivers, can be issued from any directory as the <application>insmod</application> program will automatically find
the drivers <application>pctel.o</application> and <application>ptserial.o</application> in  <filename>/lib/modules/`your kernel version`/misc/ </filename>)
</para>
</sect2>
 </sect1>


<!-- Section1: testing -->

 <sect1 id="testing">
  <title>Testing the drivers</title>
<para>
There is only one way to check whether the drivers are working or not. You will have to see if your
modem is recognized or not. The driver  makes a node for your modem at  <filename>/dev/ttyS15 </filename>, no matter
what com port it may be in in M$DOS/M$ Windows.  <filename>/dev/ttyS15 </filename> is symlinked to  <filename>/dev/modem </filename> and as
most programs search for a modem at  <filename>/dev/modem </filename> first, you will not have to fiddle with the settings/configs of those programs. The
program that I use to test my modem in GNU/Linux is minicom. If you have minicom installed, what you have to do is type
</para>
<para>
<command>bash$
minicom
</command>
</para>
<para>
in a shell prompt or in a terminal emulator window.
If everything is all right, you will see a <emphasis>Initializing modem</emphasis> message for a few seconds and then a
screen with a blinking cursor.
Just type in <command>ATZ</command> in that screen and hit the enter key.
If you see a <emphasis>OK</emphasis> message, then, congratulations, your modem is working in GNU/Linux.
Type in <command>ATI 3</command> and hit enter and you will see a <emphasis>PCtel HSP56 MicroModem</emphasis> output.
If you get a error message, or if you fail to get any response from minicom proceed to the troubleshooting section.
If everything is all right up to now, you can go ahead to configure your dialer software and connect to
the internet, and please do take some time to submit your modem information to the compatibility database at <ulink url="http://pctelcompdb.sourceforge.net">http://pctelcompdb.sourceforge.net</ulink>. Also, you may consider helping out the author.
See <link linkend='helpauthor'> this section </link> for more information.
</para>

 </sect1>



<!-- Section1: OT -->

 <sect1 id="OT">
  <title>A few other points that must be noted.</title>

   <para>Here are a few more points you might find to be of interest/useful.</para>
<sect2>
<title>
The unofficial PCTel winmodem-Linux compatibility database.
</title>
<para>
There has been a lot of confusion over the <emphasis>--with-hal</emphasis> option which has to be used with the configure script, and for that, I coded a MySQL-PHP driven database that
takes in information from the modem owners, so that newbies can browse and search the database, and find their modems' chipsets. If you have a PCTel modem, then please do submit your modem information
at <ulink url="http://pctelcompdb.sourceforge.net">http://pctelcompdb.sourceforge.net</ulink>.
</para>
</sect2>
<sect2>
<title>
Loading the modules at automatically
</title>
<para>
Well, if you have the pctel.o and ptserial.o files in  <filename>/lib/modules/`your kernel version`/misc/ </filename> , you can just add these lines to your
 <filename>/etc/modules.conf </filename> file
</para>
<programlisting>

# for pctel modem


alias char-major-62 ptserial


below ptserial pctel


# country code for pctel modem

options ptserial country_code=1
</programlisting>
<para>
Run
</para>
<para>
<command>bash$
depmod -a
</command>
</para>
<para>
after modifying your  <filename>/etc/modules.conf </filename>.
</para>
<para>
In this case, running ppp would automatically load these modules.
You can also write up some shell-script and put them in your  <filename>/usr/bin/ </filename> directory (I have a sample of such a script in the appendix
section)
</para>
</sect2>
<sect2>
<title>

Country codes
</title>
<para>
The <application>ptserial.o</application> driver also lets you specify the country code, though for most situations, the default of USA is all right.
If you still want to specify the country code, load the ptserial.o module with the command
</para>
<para>
<command>bash$
insmod ptserial country_code=x
</command>
</para>
<para>
(where x is the country code you want)
The list of country codes with the corresponding country names is listed below.
</para>
<para>
<table frame='all'><title>Country Codes</title>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<thead>
<row>
<entry> Country Name </entry>
<entry> country_code </entry>
</row>
</thead>
<tbody>
<row>
<entry>
USA
</entry>
<entry>
1
</entry>
</row>
<row>
<entry>
France
</entry>
<entry>
2
</entry>
</row>
<row>
<entry>
Germany
</entry>
<entry>
3
</entry>
</row>
<row>
<entry>
Italy
</entry>
<entry>
4
</entry>
</row>
<row>
<entry>
Sweden
</entry>
<entry>
5
</entry>
</row>
<row>
<entry>
UK
</entry>
<entry>
6
</entry>
</row>
<row>
<entry>
Japan 
</entry>
<entry>
7
</entry>
</row>
<row>
<entry>
Australia
</entry>
<entry>
8
</entry>
</row>
<row>
<entry>
Spain
</entry>
<entry>
9
</entry>
</row>
<row>
<entry>
Taiwan
</entry>
<entry>
10
</entry>
</row>
<row>
<entry>
Singapore
</entry>
<entry>
11
</entry>
</row>
<row>
<entry>
Korea
</entry>
<entry>
12
</entry>
</row>
<row>
<entry>
Switzerland
</entry>
<entry>
13
</entry>
</row>
<row>
<entry>
Norway
</entry>
<entry>
14
</entry>
</row>
<row>
<entry>
Netherlands
</entry>
<entry>
15
</entry>
</row>
<row>
<entry>
Belgium
</entry>
<entry>
16
</entry>
</row>
<row>
<entry>
Canada
</entry>
<entry>
17
</entry>
</row>
<row>
<entry>
Ireland
</entry>
<entry>
18
</entry>
</row>
<row>
<entry>
Portugal
</entry>
<entry>
19
</entry>
</row>
<row>
<entry>
Polan
</entry>
<entry>
20
</entry>
</row>
<row>
<entry>
Hungary
</entry>
<entry>
21
</entry>
</row>
<row>
<entry>
Finland
</entry>
<entry>
22
</entry>
</row>
<row>
<entry>
Denmark 
</entry>
<entry>
23
</entry>
</row>
<row>
<entry>
Austria
</entry>
<entry>
24
</entry>
</row>
<row>
<entry>
South Africa
</entry>
<entry>
25
</entry>
</row>
<row>
<entry>
CTR21 Countries
</entry>
<entry>
26
</entry>
</row>
<row>
<entry>
China
</entry>
<entry>
27
</entry>
</row>
<row>
<entry>
Malaysia
</entry>
<entry>
28
</entry>
</row>
<row>
<entry>
Luxumburg
</entry>
<entry>
29
</entry>
</row>
<row>
<entry>
Greece
</entry>
<entry>
30
</entry>
</row>
<row>
<entry>
Iceland
</entry>
<entry>
31
</entry>
</row>
<row>
<entry>
New Zealand
</entry>
<entry>
32
</entry>
</row>
<row>
<entry>
Brazil
</entry>
<entry>
33
</entry>
</row>
</tbody>
</tgroup>
</table>
</para>
</sect2>
<sect2>
<title>
Other options while loading the modules.
</title>
<para>The other options that you may want to use while loading ptserial.o are:</para>
<para>For all HALs :</para>
<para> - irq: Force to using irq #.</para>
<para> - iobase: Force to use iobase for modem detection.</para>
<para></para>
<para>Only for I810/VAI686A HALs:</para>
<para> - iobase1: Force the iobase 1</para>
<para><note><para>NOTE: if you want to set iobase or iobase1, you should use 
irq/iobase/iobase1 at same time.</para></note></para>
<para></para>
<para>Only for CM8738/PCT789 HALs:</para>
<para> - vendor_id: vendor ID of the modem</para>
<para> - device_id: device ID of the modem.</para>
<para> <note><para>NOTE: vendor_id and device_id should be used at the same time,
but you cannot combinate this two options with
iobase, iobase prevail to (vendor/device)_id detection.</para></note></para>
</sect2>
<sect2>
<title>
The sequence of loading/unloading the modules.
</title>
<para>
When you load the modules, you must load the <application>pctel.o</application> module at first
</para>
<para>
<command>bash$
insmod pctel
</command>
</para>
<para>
and then the <application>ptserial.o</application>
</para>
<para>
<command>bash$
insmod ptserial
</command>
</para>
<para>
While unloading, the sequence is reversed,
</para>
<para>
<command>bash$
rmmod ptserial
</command>
</para>
<para>
<command>bash$
rmmod pctel
</command>
</para>
</sect2>
<sect2>
<title>
Bugs in the pctel-0.9.6 and the 0.8.6 versions.
</title>
<para>
<anchor id="bug">
There is a serious bug in the drivers for the kernel 2.4x
 The modem often seems to stop working/hang while dialing out, and you get nothing but a
beeeeeeeeee... sound from the modem speaker and later, the dialer gives a message <computeroutput>No Carrier</computeroutput>
and disconnects.
</para>
<para>
This problem has no real workaround , but sometimes unloading and reloading of the modules work. For that the commands
will be (assuming that you have the modules in  <filename>/lib/modules/'your kernel version`/misc/ </filename>)</para>
<para>
<command>bash$
rmmod ptserial
</command>
</para><para>
<command>bash$
rmmod pctel
</command>
</para><para>
<command>bash$
insmod pctel
</command>
</para><para>
<command>bash$
insmod ptserial
</command>
</para>
<para>
<note>
<para>
You must exit from your dialer before trying to unload the drivers, otherwise you will get a <computeroutput>device or resource busy </computeroutput> error.
</para>
</note>
</para><para>
When the problems become too acute, the only solution seems to be rebooting.
</para>
<para>
It has been also noticed that sometimes, this problem is ISP dependent, with the problem surfacing when using a particular
ISP.
</para>
</sect2>
<sect2>
<title>
Directory of the kernel source files
</title>
<para>
<anchor id="kernelsrc">
If you get an error saying  <computeroutput>/usr/src/linux/include/linux/modversions.h : no such file or directory</computeroutput>,
look in your /usr/src directory for the kernel source. The default location is  <filename>/usr/src/linux/ </filename> but some distributions may install the files somewhere else.</para><para>If you find that the files are somewhere else, say in the directory,  <filename>/usr/src/myspecialsource/ </filename>, do not try to move the files, just create a symbolic link with the command </para><para><command>bash$
ln -s /usr/src/myspecialdirectory/ /usr/src/linux/
</command>
</para>
<para>
<note>
<para>
In case of the PCTel-0.8.6 or newer drivers you can also specify the location of your kernel source by using the option
</para>
<para>
<command>bash$
 --with-kernel-includes=your kernel source directory
</command>
</para>
<para>
during running the <application> configure </application> script.
</para>
</note>
</para>
</sect2>
<sect2 id="bios">
<title> PnP BIOS issues</title>
<para>
As most computers are designed for M$-Windows operating systems, the BIOS of the computer assumes that you have a what it calls a "PnP OS installed".
This may cause trouble with these types of modems in GNU/Linux (specially if you have resource conflicts) and so the best bet is to change the option "PnP OS installed" to "No". To do these, you have to perform the following steps:
</para>
<para>
During startup, when you see "Memory Test" messages, CPU information, BIOS information, just press the <keycap>DEL</keycap> key (if that does not work, usually one of the Function (Fx) keys work..check your manual).</para>
<para>
You will be presented with the BIOS configuration menu. Enter the "PNP/PCI Configuration" section and set the option for "PNP OS Installed" to "NO". Save the changes you have made, and then reboot.
</para>
<para>
<warning>
<para>This is <emphasis>not</emphasis> applicable to all BIOSs, and you are advised to consult your PC documentation if you have a different kind of BIOS configuration menu.
</para>
</warning>
</para>
</sect2>
<sect2 id="amr">
<title>
AMR modems
</title>
<para>
There are certain PCTel chip set based internal modems that go into AMR slots instead of the normal PCI slots. They are
usually identified as <computeroutput> HSP MR </computeroutput> by the <command>bash$ lspci </command> command. These modems
are supported by the pctel-0.9.6 drivers only.
</para>
</sect2>
<sect2 id="sound">
<title>
Possible conflict with sound modules
</title>
<para>
Recently, there were some posts in the discuss@linmodems.org list that the PCTel modules worked only after the sound modules
were unloaded with the <command>bash$ rmmod </command> command. If you do not get a response from your modem even after the
pctel.o and ptserial.o modules have been loaded, then you can try unloading the sound modules, and then reloading the PCTel
modules. However, this problem does not occur if you are using the commercial ($$$) drivers from <ulink url="http://www.opensound.com"> www.opensound.com </ulink>.
</para>
</sect2>
 </sect1>



<!-- Section1: trouble -->

 <sect1 id="trouble">
  <title>FAQ/Troubleshooting</title>
<para>
Here is a set of common problems that you may face, along with their possible solutions.
</para>
<sect2>
<title>
Compiling Problems
</title>
<qandaset>
<qandaentry>
<question>
<para>
I get a <computeroutput>configure: error: You must have linux kernel >= 2.4.0 installed</computeroutput> during ./configure
</para>
</question>
<answer>
<para>
<anchor id='patch-configure'>
If this occurs, you will have to patch your configure script. Download the  file <filename>configure.patch</filename> from <ulink url="http://www.peacefulaction.org/sayamindu/configure.patch">
here</ulink> and give the command 
</para>
<para>
<command>
cat configure.patch | patch -p0
</command>
<note>
<para>
I am supposing that you are in the pctel-0.9.6 directory, and the <filename>configure.patch</filename> is also in that directory
</para>
</note>
</para>
</answer></qandaentry>

<qandaentry>
<question>
<para>
I get a <computeroutput>/usr/src/linux/include/linux/modversions.h : no such file or directory</computeroutput>
</para>
</question>
<answer>
<para>
You need to have your kernel source installed under  <filename>/usr/src/linux/ </filename> </para><para>
If you have the kernel source installed somewhere else, just make the appropriate symlink. (see section <link linkend="kernelsrc">7.7 </link>for more information)
If you have that installed under  <filename>/usr/src/linux/ </filename>, run
</para>
<para><command>bash$
make config
</command>
</para>
<para><command>bash$
make dep
</command>
</para>
<para>
in  <filename>/usr/src/linux/ </filename>
</para></answer></qandaentry>

<qandaentry>
<question>
<para>
 I get a <computeroutput>permission denied</computeroutput> error while running <command>bash$ make install</command>
</para>
</question>
<answer>
<para>
You need to be logged in as root while doing <command>bash$ make install</command>
</para>
</answer>
</qandaentry>


<qandaentry>
<question>
<para>
I have gcc 3 and while compiling, I get an error which goes like this
<computeroutput>&lt;command line&gt;:1:13: multi-line string literals are deprecated
make[3]: *** [ptserial.o] Error 1
</computeroutput>.
</para>
</question>
<answer>
<para>
<anchor id="gcc3">
This should not happen anymore since the pctel-0.9.6 driver was released to address this issue. However, if you
still face such a problem, (with an older driver or something like that), you will have to edit the file 
<filename>&lt;your pctel directory&gt;src/ptserial/Makefile</filename>.
In that file, find out the line which says
</para>
<para>
<programlisting>
CFLAGS = -D__KERNEL__ -Werror -Wno-trigraphs -fno-common -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe -fno-strength-reduce -DMODULE -DMODVERSIONS -DEXPORT_SYMTAB -D$(HAL_TARGET) $(AUDIO_ROUTING) -DBUILD_SYSTEM=\""$(BUILD_SYSTEM)\"" -DGCC_VERSION=\""$(GCC_VERSION)\"" -I$(top_srcdir)/include -I$(KERNEL_INCLUDES) -include $(KERNEL_INCLUDES)/linux/modversions.h
</programlisting>
</para>
<para>
and change that to
</para>
<para>
<programlisting>
CFLAGS = -D__KERNEL__  -Wno-trigraphs -fno-common -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe -fno-strength-reduce -DMODULE -DMODVERSIONS -DEXPORT_SYMTAB -D$(HAL_TARGET) $(AUDIO_ROUTING) -DBUILD_SYSTEM=\""$(BUILD_SYSTEM)\"" -DGCC_VERSION=\""$(GCC_VERSION)\"" -I$(top_srcdir)/include -I$(KERNEL_INCLUDES) -include $(KERNEL_INCLUDES)/linux/modversions.h
</programlisting>
</para>
<para>
....and then recompile.
</para>
<tip>
<para>
If you cannot find the file <filename>src/ptserial/Makefile</filename>, then run the <application>configure
</application> script, and try again.
</para>
</tip>
<para>
Alternatively, you may also try out the pre-compiled (distro specific) drivers at 
<ulink url="http://www.geocities.com/jcmp3/">http://www.geocities.com/jcmp3/</ulink>. Just note that I have not personally
tested out these drivers, and I don't know much about them.
</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para>
I have RedHat 8.0/Mandrake 9.0, and I am having troubles compiling the drivers.
</para>
</question>
<answer>
<para>
See the answer to the <link linkend="gcc3">previous</link> question (8.1.4).
</para>
</answer>
</qandaentry>


</qandaset>

</sect2>
<sect2>
<title>
Problems while loading the modules.
</title>
<qandaset>
<qandaentry>
<question>
<para>
I get <computeroutput>unresolved symbols....</computeroutput> messages while loading the modules
</para>
</question>
<answer>
<para>
Firstly, check that you are loading <application>ptserial.o</application> only after loading pctel.o.
</para>
<para>
If that does not solve the problem, then probably you have compiled your modules for the wrong kernel version. Check your kernel version
with the command
</para>
<para>
<command>bash$
uname -r
</command>
</para>
<para>
and then verify if you have the right files in  <filename>/usr/src/linux </filename>.
</para>
<para>
Moreover, if you have a running kernel for a uniprocessor machine and have kernel source in  <filename>/usr/src/linux/ </filename>
that is configured for smp support, then you will get unresolved symbols. A method to check whether you have a smp supporting source is by
running <command>bash$
make menuconfig </command>
in  <filename>/usr/src/linux/ </filename>
and seeing whether smp support is selected.
</para>
<para>
Another way to get rid of the unresolved symbols problem is to use the fixscript package from
<ulink url="http://linmodems.technion.ac.il/pctel-linux/fixscript.gz">http://linmodems.technion.ac.il/pctel-linux/fixscript.gz</ulink>
</para>
<para>
The procedure is to:
</para>
<para>
Unpack the downloaded file with
</para>
<para>
<command>bash$
gzip -d fixscript.gz
</command>
</para>
<para>
Make it executable with
</para>
<para>
<command>bash$
chmod +x fixscript
</command>
</para>
<para>
Run it with
</para>
<para>
<command>bash$
./fixscript old_module.o new_module.o
</command>
</para>
<para>
This will create the new module, which you can try to load
with
</para>
<para>
<command>bash$
insmod new_module.o
</command>
</para>
<para>
If fixscript reports an error like
</para>
<para>
<computeroutput>
objcopy: --redefine-sym: Symbol x is target of more than one redefinition
</computeroutput>
</para>
<para>
then, fixscript can not help you.
</para>
<para>
The best method is of course, to fix your kernel source and recompile the drivers.
</para>
<para>
Make sure that you do a
</para>
<para><command>bash$
make clean
</command>
</para>
<para>
before recompiling.
</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para>
I get an <computeroutput>Operation not permitted</computeroutput> error while trying to load the drivers
</para>
</question>
<answer>
<para>
You will have to be logged in as root to load the drivers, otherwise, you can also type in the
</para>
<para><command>bash$
su
</command>
</para>
<para>
command and then load the drivers.
</para>
</answer>
</qandaentry>


<qandaentry>
<question>
<para>
I get a <computeroutput>Warning: loading /lib/modules/2.4.19/misc/ptserial.o will taint the kernel: non-GPL license - GPL linked with proprietary libraries</computeroutput> message while loading the modules.
</para>
</question>
<answer>
<para>
This message is just to inform you that you are loading a proprietary module which is not supported
by the Linux kernel developers. It also serves as a warning that the drivers have not been officially
tested with the kernel, and may cause problems, and tells you that you should not send bug reports to the 
kernel developers if you face system instability or any other problems after loading these proprietary 
drivers. 
<note> 
<para>
Just remember that this is <emphasis> not </emphasis> a error message - it just informs you that
you are using an unsupported module.
</para>
</note>
</para>
</answer>
</qandaentry>
<qandaentry>
<question>
<para>
I get a <computeroutput>The module you are trying to load (/lib/modules/2.4.18-14/misc/pctel.o) is compiled with a gcc
version 2 compiler, while the kernel you are running is compiled with a gcc version 3 compiler. This is known to not work.
</computeroutput> message while loading the modules.
</para>
</question>
<answer>
<para>
Try to load the modules with the commands with <command>insmod -f pctel</command> and <command>insmod -f ptserial</command>
instead of the plain <command>insmod pctel</command> and <command>insmod ptserial</command>.
</para>
<para>
<warning>
<para>
Just remember that this is not a very nice hack.
</para>
</warning>
</para>
</answer>
</qandaentry>

</qandaset>

</sect2>
<sect2>
<title>
General modem based problems.
</title>
<qandaset>
<qandaentry>
<question>
<para>I get a <computeroutput>/dev/modem no such device</computeroutput> error.</para></question><answer>
<para>First of all, check if you really have the drivers loaded. You can do this by the command</para><para>
<command>bash$ lsmod</command></para>
<para>This command lists all the modules that you have loaded, and if you see something like</para>
<para><screen>
Module                  Size  Used by
ptserial               47472   0 (unused)
pctel                1211808   0 [ptserial]
</screen>
</para>
<para>then, the modules are correctly loaded.</para>
<para>If not, just load them and retry.</para>
<para>Also check whether the file /dev/modem is symlinked to /dev/ttyS15</para>
<para>Remember, even if msdos or Microsoft Windows tells you that the modem is in com 3 or com 4, in GNU/Linux the driver makes it appear in
/dev/ttyS15 (the Microsoft equivalent of which will be com 16!!)</para>
<para>If you are in doubt, I suggest that you re-create the device files by the commands</para>
<para>
<command>bash$
rmmod ptserial
</command>
</para>
<para>
<command>bash$
rmmod pctel
</command>
</para>
<para>
<command>bash$ rm /dev/ttyS15 &nbsp;/dev/modem
</command>
</para>
<para>
<command>bash$
mknod /dev/ttyS15 c 62 79
</command>
</para>
<para>NOTE: the numbers after /devttyS15 are distribution specific, and the c 62 79 works for Red Hat
Linux and derivatives. If you have any other distribution, please check your documentations.</para>
<para>
<command>bash$
chgrp uucp /dev/ttyS15
</command>
</para>
<para>
<command>bash$
chmod 666 &nbsp;/dev/ttyS15
</command>
</para>
<para>
<command>bash$
ln -s /dev/ttyS15 /dev/modem
</command>
</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para>
 My dialer gives a <computeroutput>No Carrier </computeroutput> error
</para>
</question><answer>
<para>
This is a bug with the drivers for the kernel 2.4x series
</para><para>
Refer to section <link linkend="bug">7.6 </link>for more information.
</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para>
I get a <computeroutput> No Dialtone </computeroutput> message.</para></question><answer>
<para> This is usually solved by adding <command> ATX3 </command> to your modem init strings.
The process of adding the ATX3 init string varies depending on the dialer you are using.
For example, if you are using <application>wvdial</application>, you need to add X3 at the end
of the <computeroutput>Init2</computeroutput> line in the file <filename>/etc/wvdial.conf</filename>. 
On the other hand, if you are using <application>KPPP</application>, you will have to add ATX3 in 
the <computeroutput>Initialization String 1</computeroutput> field, which can be found in the 
<computeroutput>Modem Commands</computeroutput> section of the <computeroutput> Modem</computeroutput> 
of the <computeroutput>Setup</computeroutput> dialogue box of KPPP.
</para>
</answer>
</qandaentry>
<qandaentry>
<question>
<para>
I get a <computeroutput>Modem Busy</computeroutput> error.
</para>
</question>
<answer>
<para>
First of all, check if the drivers are loaded or not and then see, if any program is using the modem.
If everything seems to be all right, try to find out the irq of your modem with the command</para>
<para>
<command>bash$
lspci -v
</command>
</para>
<para>
If the irq listed is obviously incorrect (like 0) (or does not tally with your M$-Windows configuration) then either use the <application>setserial</application> command</para>
<para>
<command>bash$
setserial /dev/ttyS15 irq * </command>(where * is the irq of your modem)</para>
<para>or fiddle with the BIOS settings (see section <link linkend="bios"> 7.8</link>)
</para>
<para>
Another possibilty may be that your sound modules are conflicting with the PCTel modules. Refer to section <link linkend="sound">7.10 </link> for this.
</para>
</answer>
</qandaentry>

</qandaset>
</sect2>
<sect2>
<title>
I have a problem that is not listed in this section. What do I do?
</title>
<para>
The output of the command
</para>
<para>
<command>bash$
tail /var/log/messages
</command>

</para>
<para>
will give you a lot of information if anything goes wrong
The normal output should be something like this</para><para><screen>
Nov 11 10:50:24 localhost kernel: PCTel device[00:09.0](0x48) found "PCTel Inc HSP MicroModem 56 (rev 01)", iobase=0xe400, irq=12.
Nov 11 10:50:24 localhost kernel: PCTel driver version 0.9.5 [5.05c-4.27.215 (09-14-2001)] (PCT789) (2002-01-31) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled.
Nov 11 10:50:24 localhost kernel: PCTel driver built on [Linux 2.4.18-14 i686 i686 "2.4.18-14 &lt;132114&gt;"] with gcc-gcc (GCC) 3.2
20020903 (Red Hat Linux 8.0 3.2-7).
Nov 11 10:50:24 localhost kernel: ttyS15 at 0xe400 (irq = 12) is a PCTel
</screen>
</para>
<para>Mail the output you get to the <email>discuss@linmodems.org</email> list( more on this in section <link linkend="mailinglist">9.2.2</link>), and wait for a reply.</para>

</sect2>
</sect1>



<!-- Section1: help -->

 <sect1 id="appendix">
  <title>Appendix</title>

   <sect2><title> A sample script file to load the modules.</title>
<programlisting>
#! /bin/bash

/sbin/insmod /lib/modules/`uname -r`/misc/pctel.o

/sbin/insmod /lib/modules/`uname -r`/misc/ptserial.o

# end file

</programlisting>
<para></para>
<para>You can save this file as <filename>modemon</filename> and then isuue the commands</para><para>
<command>bash$
chmod 700 modemon
</command>
</para>
<para>
<command>bash$
cp modemon /usr/bin/modemon
</command></para>
<para>Now, whenever you type in the command <command>bash$  modemon </command>, the modules will get loaded automatically</para>
</sect2>
<sect2>
<title> Web Resources</title>
<para>There are a number of websites, mailing lists that may help you while you try to configure your modem.</para>
<sect3>
<title>Web sites</title>
<para>The unofficial pctel linux driver site at <ulink url="http://linmodems.technion.ac.il/pctel-linux/">
http://linmodems.technion.ac.il/pctel-linux/</ulink></para>
<para> The unofficial PCTel modem-Linux compatibility database at <ulink url="http://pctelcompdb.sourceforge.net">http://pctelcompdb.sourceforge.net</ulink>.</para>
<para>The linmodem site (the mother page of all linmodem projets) at <ulink url="http://www.linmodems.org">http://www.linmodems.org</ulink></para>
<para>A huge lists of lin/winmodems at <ulink url=" http://www.idir.net/~gromitkc/winmodem.html
">http://www.idir.net/~gromitkc/winmodem.html</ulink></para>
<para>A list of AT commands from PCTel at <ulink url="http://www.pctel.com/atcommands_dev.htm">http://www.pctel.com/atcommands_dev.htm</ulink></para>
<para>
For latest information related to linmodems, visit <ulink url="http://linmodems.technion.ac.il/">http://linmodems.technion.ac.il/</ulink>.
</para>
<para>
The linmodem-howto is available at <ulink url="http://www.tldp.org/HOWTO/Linmodem-HOWTO.html">http://www.linuxdoc.org/HOWTO/Linmodem-HOWTO.html</ulink>.
</para>
</sect3>
<sect3>
<title>Mailing lists</title>
<para>
<anchor id="mailinglist">
The most important mailing list for linmodems is </para>
<para><email>discuss@linmodems.org</email></para>
<para>You can subscribe to that list by going to &nbsp;</para><para>
<ulink url="http://www.linmodems.org">http://www.linmodems.org </ulink> or by sending a blank e-mail to <email>discuss-subscribe@linmodems.org</email> .
</para>
</sect3>
</sect2>
<sect2 id="other-drivers">
<title> Other drivers that are available </title>
<para>
I have seen a number of modem manufacturers (Dax, Zoltrix, Lectron, Tiacom etc) providing linux drivers for their modems that have PCTel chip sets.</para><para>
Actually most (if not all) of these drivers are slightly modified form of the drivers at Jan's and the modems.dewback.cl
site, and so, in most cases, there is no point in downloading them.</para>
<para>
However, you may try out the pre-compiled (distro specific) drivers at
<ulink url="http://www.geocities.com/jcmp3/">http://www.geocities.com/jcmp3/</ulink>. Just note that I have not personally
tested out these drivers, and I don't know much about them.
</para>
<para>
Moreover, in the early days of 2.4x kernels, Thomas Wright had made a PCTel driver and you can find it in his website at <ulink url="http://www.geocities.com/tom_in_rc/">http://www.geocities.com/tom_in_rc/</ulink>.</para>
</sect2>
<sect2 id="identify">
<title> Identifying the chip set of the modem</title>
<para>
Well, the best way to identify the chip set of your modem is to open up the cabinet of the machine.,
gently pull out the modem from it's slot (only if it is <emphasis> not </emphasis> integrated into your motherboard), and see the name printed on the black chip on the modem. (be <emphasis>very very careful </emphasis>while doing these, and make sure that all power supplies to the system is disconnected, and touch the ground/a metallic surface before handling any of the circuitry/wires in the machine). But sometimes, this is not possible and so you will have to adopt other methods.</para>
<para>The next best method is to run the command </para><para>
<command>bash$
lspci -n
</command>
</para>
<para>
This command will give you the numeric PCI id of your modem (you may have to run <command>bash$ lspci</command> to crosscheck the device id) and you will have to submit the number at  <ulink url="http://www.yourvote.com/pci/
">http://www.yourvote.com/pci/</ulink>
Here you may or may not get the exact name of the chip set you have.
</para>
<para>
The unofficial PCTel modem-Linux compatibility database at <ulink url="http://pctelcompdb.sourceforge.net">http://pctelcompdb.sourceforge.net</ulink>.
might also be of some help in this case
</para>
<para>
If you do not get the name, you can go through the database at <ulink url="
http://www.idir.net/~gromitkc/winmodem.html#drivers">
http://www.idir.net/~gromitkc/winmodem.html#drivers  </ulink>
and search for an entry on your modem.</para>
<para>
You can also ask at the local LUGs or ask your friends or even (a bad way, no doubt), ask the support personnel of your modem manufacturer.
</para>
</sect2>
<sect2 id='helpauthor'>
<title>
Helping the author
</title>
<para>
If you have liked the miniHOWTO, or if you have benefitted from the contents, then please do consider
linking my project site <emphasis>Peaceful Action</emphasis> (<ulink url='http://www.peacefulaction.org'>
http://www.peacefulaction.org</ulink>) from your homepage, or whatever site you may be the webmaster of.
See this <ulink url="http://www.peacefulaction.org/redirect.php"> 
page </ulink> for more information.
</para>
<para>
You may also consider telling your friends about <ulink url='http://www.peacefulaction.org'>Peaceful Action 
</ulink>. To recommend <ulink url='http://www.peacefulaction.org'> Peaceful Action </ulink> to a friend, please
do visit this <ulink url="http://www.peacefulaction.org/modules.php?name=Recommend_Us">page</ulink>. 
</para>
</sect2>

  <sect2>
  <title>GNU Free Documentation License</title>

    <para>Version 1.1, March 2000</para>

    <blockquote>
      <para>Copyright (C) 2000  Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.</para>
    </blockquote>

  <sect3 label="0">
    <title>PREAMBLE</title>

    <para>The purpose of this License is to make a manual, textbook,
    or other written document "free" in the sense of freedom: to
    assure everyone the effective freedom to copy and redistribute it,
    with or without modifying it, either commercially or
    noncommercially.  Secondarily, this License preserves for the
    author and publisher a way to get credit for their work, while not
    being considered responsible for modifications made by
    others.</para>

    <para>This License is a kind of "copyleft", which means that
    derivative works of the document must themselves be free in the
    same sense.  It complements the GNU General Public License, which
    is a copyleft license designed for free software.</para>

    <para>We have designed this License in order to use it for manuals
    for free software, because free software needs free documentation:
    a free program should come with manuals providing the same
    freedoms that the software does.  But this License is not limited
    to software manuals; it can be used for any textual work,
    regardless of subject matter or whether it is published as a
    printed book.  We recommend this License principally for works
    whose purpose is instruction or reference.</para>
  </sect3>

  <sect3 label="1">
    <title>APPLICABILITY AND DEFINITIONS</title>

    <para>This License applies to any manual or other work that
    contains a notice placed by the copyright holder saying it can be
    distributed under the terms of this License.  The "Document",
    below, refers to any such manual or work.  Any member of the
    public is a licensee, and is addressed as "you".</para>

    <para>A "Modified Version" of the Document means any work
    containing the Document or a portion of it, either copied
    verbatim, or with modifications and/or translated into another
    language.</para>

    <para>A "Secondary Section" is a named appendix or a front-matter
    section of the Document that deals exclusively with the
    relationship of the publishers or authors of the Document to the
    Document's overall subject (or to related matters) and contains
    nothing that could fall directly within that overall subject.
    (For example, if the Document is in part a textbook of
    mathematics, a Secondary Section may not explain any mathematics.)
    The relationship could be a matter of historical connection with
    the subject or with related matters, or of legal, commercial,
    philosophical, ethical or political position regarding
    them.</para>

    <para>The "Invariant Sections" are certain Secondary Sections
    whose titles are designated, as being those of Invariant Sections,
    in the notice that says that the Document is released under this
    License.</para>

    <para>The "Cover Texts" are certain short passages of text that
    are listed, as Front-Cover Texts or Back-Cover Texts, in the
    notice that says that the Document is released under this
    License.</para>

    <para>A "Transparent" copy of the Document means a
    machine-readable copy, represented in a format whose specification
    is available to the general public, whose contents can be viewed
    and edited directly and straightforwardly with generic text
    editors or (for images composed of pixels) generic paint programs
    or (for drawings) some widely available drawing editor, and that
    is suitable for input to text formatters or for automatic
    translation to a variety of formats suitable for input to text
    formatters.  A copy made in an otherwise Transparent file format
    whose markup has been designed to thwart or discourage subsequent
    modification by readers is not Transparent.  A copy that is not
    "Transparent" is called "Opaque".</para>

    <para>Examples of suitable formats for Transparent copies include
    plain ASCII without markup, Texinfo input format, LaTeX input
    format, SGML or XML using a publicly available DTD, and
    standard-conforming simple HTML designed for human modification.
    Opaque formats include PostScript, PDF, proprietary formats that
    can be read and edited only by proprietary word processors, SGML
    or XML for which the DTD and/or processing tools are not generally
    available, and the machine-generated HTML produced by some word
    processors for output purposes only.</para>

    <para>The "Title Page" means, for a printed book, the title page
    itself, plus such following pages as are needed to hold, legibly,
    the material this License requires to appear in the title page.
    For works in formats which do not have any title page as such,
    "Title Page" means the text near the most prominent appearance of
    the work's title, preceding the beginning of the body of the
    text.</para>
  </sect3>

  <sect3 label="2">
    <title>VERBATIM COPYING</title>

    <para>You may copy and distribute the Document in any medium,
    either commercially or noncommercially, provided that this
    License, the copyright notices, and the license notice saying this
    License applies to the Document are reproduced in all copies, and
    that you add no other conditions whatsoever to those of this
    License.  You may not use technical measures to obstruct or
    control the reading or further copying of the copies you make or
    distribute.  However, you may accept compensation in exchange for
    copies.  If you distribute a large enough number of copies you
    must also follow the conditions in section 3.</para>

    <para>You may also lend copies, under the same conditions stated
    above, and you may publicly display copies.</para>
  </sect3>

  <sect3 label="3">
    <title>COPYING IN QUANTITY</title>

    <para>If you publish printed copies of the Document numbering more
    than 100, and the Document's license notice requires Cover Texts,
    you must enclose the copies in covers that carry, clearly and
    legibly, all these Cover Texts: Front-Cover Texts on the front
    cover, and Back-Cover Texts on the back cover.  Both covers must
    also clearly and legibly identify you as the publisher of these
    copies.  The front cover must present the full title with all
    words of the title equally prominent and visible.  You may add
    other material on the covers in addition.  Copying with changes
    limited to the covers, as long as they preserve the title of the
    Document and satisfy these conditions, can be treated as verbatim
    copying in other respects.</para>

    <para>If the required texts for either cover are too voluminous to
    fit legibly, you should put the first ones listed (as many as fit
    reasonably) on the actual cover, and continue the rest onto
    adjacent pages.</para>

    <para>If you publish or distribute Opaque copies of the Document
    numbering more than 100, you must either include a
    machine-readable Transparent copy along with each Opaque copy, or
    state in or with each Opaque copy a publicly-accessible
    computer-network location containing a complete Transparent copy
    of the Document, free of added material, which the general
    network-using public has access to download anonymously at no
    charge using public-standard network protocols.  If you use the
    latter option, you must take reasonably prudent steps, when you
    begin distribution of Opaque copies in quantity, to ensure that
    this Transparent copy will remain thus accessible at the stated
    location until at least one year after the last time you
    distribute an Opaque copy (directly or through your agents or
    retailers) of that edition to the public.</para>

    <para>It is requested, but not required, that you contact the
    authors of the Document well before redistributing any large
    number of copies, to give them a chance to provide you with an
    updated version of the Document.</para>
  </sect3>

  <sect3 label="4">
    <title>MODIFICATIONS</title>

    <para>You may copy and distribute a Modified Version of the
    Document under the conditions of sections 2 and 3 above, provided
    that you release the Modified Version under precisely this
    License, with the Modified Version filling the role of the
    Document, thus licensing distribution and modification of the
    Modified Version to whoever possesses a copy of it.  In addition,
    you must do these things in the Modified Version:</para>

    <orderedlist numeration="upperalpha">
      <listitem><para>Use in the Title Page
      (and on the covers, if any) a title distinct from that of the
      Document, and from those of previous versions (which should, if
      there were any, be listed in the History section of the
      Document).  You may use the same title as a previous version if
      the original publisher of that version gives permission.</para>
      </listitem>

      <listitem><para>List on the Title Page,
      as authors, one or more persons or entities responsible for
      authorship of the modifications in the Modified Version,
      together with at least five of the principal authors of the
      Document (all of its principal authors, if it has less than
      five).</para>
      </listitem>

      <listitem><para>State on the Title page
      the name of the publisher of the Modified Version, as the
      publisher.</para>
      </listitem>

      <listitem><para>Preserve all the
      copyright notices of the Document.</para>
      </listitem>

      <listitem><para>Add an appropriate
      copyright notice for your modifications adjacent to the other
      copyright notices.</para>
      </listitem>

      <listitem><para>Include, immediately
      after the copyright notices, a license notice giving the public
      permission to use the Modified Version under the terms of this
      License, in the form shown in the Addendum below.</para>
      </listitem>

      <listitem><para>Preserve in that license
      notice the full lists of Invariant Sections and required Cover
      Texts given in the Document's license notice.</para>
      </listitem>

      <listitem><para>Include an unaltered
      copy of this License.</para>
      </listitem>

      <listitem><para>Preserve the section
      entitled "History", and its title, and add to it an item stating
      at least the title, year, new authors, and publisher of the
      Modified Version as given on the Title Page.  If there is no
      section entitled "History" in the Document, create one stating
      the title, year, authors, and publisher of the Document as given
      on its Title Page, then add an item describing the Modified
      Version as stated in the previous sentence.</para>
      </listitem>

      <listitem><para>Preserve the network
      location, if any, given in the Document for public access to a
      Transparent copy of the Document, and likewise the network
      locations given in the Document for previous versions it was
      based on.  These may be placed in the "History" section.  You
      may omit a network location for a work that was published at
      least four years before the Document itself, or if the original
      publisher of the version it refers to gives permission.</para>
      </listitem>

      <listitem><para>In any section entitled
      "Acknowledgements" or "Dedications", preserve the section's
      title, and preserve in the section all the substance and tone of
      each of the contributor acknowledgements and/or dedications
      given therein.</para>
      </listitem>

      <listitem><para>Preserve all the
      Invariant Sections of the Document, unaltered in their text and
      in their titles.  Section numbers or the equivalent are not
      considered part of the section titles.</para>
      </listitem>

      <listitem><para>Delete any section
      entitled "Endorsements".  Such a section may not be included in
      the Modified Version.</para>
      </listitem>

      <listitem><para>Do not retitle any
      existing section as "Endorsements" or to conflict in title with
      any Invariant Section.</para>
      </listitem>
    </orderedlist>
    
    <para>If the Modified Version includes new front-matter sections
    or appendices that qualify as Secondary Sections and contain no
    material copied from the Document, you may at your option
    designate some or all of these sections as invariant.  To do this,
    add their titles to the list of Invariant Sections in the Modified
    Version's license notice.  These titles must be distinct from any
    other section titles.</para>

    <para>You may add a section entitled "Endorsements", provided it
    contains nothing but endorsements of your Modified Version by
    various parties--for example, statements of peer review or that
    the text has been approved by an organization as the authoritative
    definition of a standard.</para>

    <para>You may add a passage of up to five words as a Front-Cover
    Text, and a passage of up to 25 words as a Back-Cover Text, to the
    end of the list of Cover Texts in the Modified Version.  Only one
    passage of Front-Cover Text and one of Back-Cover Text may be
    added by (or through arrangements made by) any one entity.  If the
    Document already includes a cover text for the same cover,
    previously added by you or by arrangement made by the same entity
    you are acting on behalf of, you may not add another; but you may
    replace the old one, on explicit permission from the previous
    publisher that added the old one.</para>

    <para>The author(s) and publisher(s) of the Document do not by
    this License give permission to use their names for publicity for
    or to assert or imply endorsement of any Modified Version.</para>
  </sect3>

  <sect3 label="5">
    <title>COMBINING DOCUMENTS</title>

    <para>You may combine the Document with other documents released
    under this License, under the terms defined in section 4 above for
    modified versions, provided that you include in the combination
    all of the Invariant Sections of all of the original documents,
    unmodified, and list them all as Invariant Sections of your
    combined work in its license notice.</para>

    <para>The combined work need only contain one copy of this
    License, and multiple identical Invariant Sections may be replaced
    with a single copy.  If there are multiple Invariant Sections with
    the same name but different contents, make the title of each such
    section unique by adding at the end of it, in parentheses, the
    name of the original author or publisher of that section if known,
    or else a unique number.  Make the same adjustment to the section
    titles in the list of Invariant Sections in the license notice of
    the combined work.</para>

    <para>In the combination, you must combine any sections entitled
    "History" in the various original documents, forming one section
    entitled "History"; likewise combine any sections entitled
    "Acknowledgements", and any sections entitled "Dedications".  You
    must delete all sections entitled "Endorsements."</para>
  </sect3>

  <sect3 label="6">
    <title>COLLECTIONS OF DOCUMENTS</title>

    <para>You may make a collection consisting of the Document and
    other documents released under this License, and replace the
    individual copies of this License in the various documents with a
    single copy that is included in the collection, provided that you
    follow the rules of this License for verbatim copying of each of
    the documents in all other respects.</para>

    <para>You may extract a single document from such a collection,
    and distribute it individually under this License, provided you
    insert a copy of this License into the extracted document, and
    follow this License in all other respects regarding verbatim
    copying of that document.</para>
  </sect3>

  <sect3 label="7">
    <title>AGGREGATION WITH INDEPENDENT WORKS</title>
    
    <para>A compilation of the Document or its derivatives with other
    separate and independent documents or works, in or on a volume of
    a storage or distribution medium, does not as a whole count as a
    Modified Version of the Document, provided no compilation
    copyright is claimed for the compilation.  Such a compilation is
    called an "aggregate", and this License does not apply to the
    other self-contained works thus compiled with the Document, on
    account of their being thus compiled, if they are not themselves
    derivative works of the Document.</para>

    <para>If the Cover Text requirement of section 3 is applicable to
    these copies of the Document, then if the Document is less than
    one quarter of the entire aggregate, the Document's Cover Texts
    may be placed on covers that surround only the Document within the
    aggregate.  Otherwise they must appear on covers around the whole
    aggregate.</para>
  </sect3>

  <sect3 label="8">
    <title>TRANSLATION</title>

    <para>Translation is considered a kind of modification, so you may
    distribute translations of the Document under the terms of section
    4.  Replacing Invariant Sections with translations requires
    special permission from their copyright holders, but you may
    include translations of some or all Invariant Sections in addition
    to the original versions of these Invariant Sections.  You may
    include a translation of this License provided that you also
    include the original English version of this License.  In case of
    a disagreement between the translation and the original English
    version of this License, the original English version will
    prevail.</para>
  </sect3>

  <sect3 label="9">
    <title>TERMINATION</title>
    
    <para>You may not copy, modify, sublicense, or distribute the
    Document except as expressly provided for under this License.  Any
    other attempt to copy, modify, sublicense or distribute the
    Document is void, and will automatically terminate your rights
    under this License.  However, parties who have received copies, or
    rights, from you under this License will not have their licenses
    terminated so long as such parties remain in full
    compliance.</para>
  </sect3>

  <sect3 label="10">
    <title>FUTURE REVISIONS OF THIS LICENSE</title>

    <para>The Free Software Foundation may publish new, revised
    versions of the GNU Free Documentation License from time to time.
    Such new versions will be similar in spirit to the present
    version, but may differ in detail to address new problems or
    concerns.  See <ulink
    url="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</ulink>.</para>

    <para>Each version of the License is given a distinguishing
    version number.  If the Document specifies that a particular
    numbered version of this License "or any later version" applies to
    it, you have the option of following the terms and conditions
    either of that specified version or of any later version that has
    been published (not as a draft) by the Free Software Foundation.
    If the Document does not specify a version number of this License,
    you may choose any version ever published (not as a draft) by the
    Free Software Foundation.</para>
  </sect3>
  </sect2>
</sect1>
</article>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:nil
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
