<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd"
[

<!ENTITY kernel-version "<replaceable>&lt;version&gt;</replaceable>">
<!ENTITY kernel-name "<replaceable>&lt;a_unique_and_clever_name&gt;</replaceable>">
<!ENTITY rop "<prompt>#</prompt>">
<!ENTITY prompt "<prompt>$ </prompt>">

]>

<article id="index">
<articleinfo>
<title>ACPI: Advanced Configuration and Power Interface</title>

<authorgroup>
<author>
      <firstname>Emma Jane</firstname>
      <surname>Hogbin</surname>
      <authorblurb><para>Emma Jane Hogbin is a Toronto developer with
	  open-source credentials</para></authorblurb>
	<affiliation>
	<orgname>
		<ulink url="http://www.xtrinsic.com">xtrinsic</ulink>
	</orgname>
	<address>
	   <email>emmajane@xtrinsic.com</email>
	</address>
    </affiliation>
</author>

<othercredit>
      <firstname>Erich</firstname>
      <surname>Schubert</surname>
      <contrib>Author of the section on DSDT.</contrib>
</othercredit>
</authorgroup>

<abstract>
	<para>Outlines how to patch a kernel for ACPI support.</para>
</abstract>

<revhistory id="revhistory">
	<revision>
	<revnumber>v1.6</revnumber>
	<date>2004-07-23</date>
	<authorinitials>ejh</authorinitials>
	<revremark>Spelling mistakes fixed, converted the bibliography, added a glossary, moved step-by-step instructions to procedures in examples, and updated the information on the 2.6 kernel and random freezes.</revremark>
	</revision>
	<revision>
	<revnumber>v1.5.1</revnumber>
	<date>2004-07-15</date>
	<authorinitials>ejh</authorinitials>
	<revremark>Link included to the French translation of this document.</revremark>
	</revision>
	<revision>
	<revnumber>v1.5</revnumber>
	<date>2004-05-21</date>
	<authorinitials>ejh</authorinitials>
	<revremark>Minor updates for the 2.6.6 kernel and corrections regarding
	which kernels need patching.</revremark>
	</revision>
	<revision>
	<revnumber>v1.4</revnumber>
	<date>2004-05-12</date>
	<authorinitials>ejh</authorinitials>
	<revremark>Initial thoughts on the 2.6.5 kernel; includes information
	on battery monitoring applications causing touch pad lockup
	problems.</revremark>
	</revision>

	<!--
	<revision>
	<revnumber>v1.3</revnumber>
	<date>2003-07-15</date>
	<revremark>Created a new category of resources for articles about the
	way ACPI ought to work (ACPI articles).</revremark>
	</revision>
	<revision>
	<revnumber>v1.2</revnumber>
	<date>2003-07-08</date>
	<revremark>Added the abstract.</revremark>
	</revision>
	<revision>
	<revnumber>v1.1</revnumber>
	<date>2003-07-03</date>
	<revremark>Added updates for the 2.4.21 kernel, the latest stable
	kernel at the time.</revremark>
	</revision>
	<revision>
	<revnumber>v1.0</revnumber>
	<date>2003-07-01</date>
	<revremark>Initial release, reviewed by LDP</revremark>
	</revision>
	<revision>
	<revnumber>v0.2</revnumber>
	<date>2003-06-12</date>
	</revision>
	-->
</revhistory>
</articleinfo>

<sect1 id="about">
<?dbhtml filename="about.html"?>
<title>About this document</title>

<sect2 id="copyright">
<?dbhtml filename="copyright.html"?>
<title>Copyright and License</title>
<para>
      Copyright (c) 2003, 2004 Emma Jane Hogbin.</para>
      <para>Permission is granted to copy, distribute and/or modify this 
      document under the terms of the GNU Free Documentation License, Version 
      1.1 or any later version published by the Free Software Foundation;
      with no Invariant Sections, no Front-Cover Texts, and with no Back-Cover
      Texts.
      A copy of the license is included in <xref linkend="gfdl"/>.
</para>
</sect2>

<sect2 id="translations">
<?dbhtml filename="translations.html"?>
<title>Translations</title>
<para>This document is also available in the following languages:</para>

<itemizedlist>
<listitem>
<para><ulink url="http://www.traduc.org/docs/HOWTO/lecture/ACPI-HOWTO.html">Français</ulink>. Merci à Guillaume Lelarge et Vanessa Conchodon pour le traduction !</para>
</listitem>
</itemizedlist>

<para>If you know of any other translations, please email me <email>emmajane@xtrinsic.com</email>.</para>
</sect2>

<sect2 id="preface">
<title>Preface</title>
<para>When I first started the switch from <xref linkend="APM" /> to <xref linkend="ACPI" /> I did not realize the
kernel needed to be patched. My problem (very loud fan) was fixed just
by upgrading to 2.4.20 (<xref linkend="debian" /> packaged <xref linkend="kernel" /> with an earlier <xref linkend="patch" /> from
<ulink url="http://acpi.sourceforge.net">acpi.sourceforge.net</ulink>).
Unfortunately after the first upgrade I was not able to correctly power down my computer.
It was not until later that 
I realized I had an old, ineffectual ACPI patch. This HOWTO was
written to summarize the install process for myself, and hopefully help others who
are also having a hard time finding information about ACPI. Please note:
the main article outlines <ulink url="http://www.debian.org">The Debian Way</ulink> 
of doing things. There is also generic information in the
<xref linkend="nodebkernel" /> for those of you who prefer ... the generic way.</para>
</sect2>

<sect2 id="thanks">
<title>Acknowledgments</title>
<para>I have found that it takes a whole community to write a technical guide. I am forever grateful for all of the support that I have received along the way. Without this (ever growing) group of people our document would not exist.</para>
<itemizedlist>

<listitem><para><ulink url="http://acpi.sourceforge.net/mailinglists.html">acpi-devel</ulink></para></listitem>

<listitem><para><ulink url="http://lists.debian.org/debian-laptop/">debian-laptop</ulink> and <ulink url="http://lists.debian.org/debian-user/">debian-user</ulink></para></listitem>

<listitem><para><ulink url="http://linuxchix.org/">techtalk</ulink></para></listitem>

<listitem><para>
<ulink url="http://www.tldp.org/mailinfo.html#maillists">TLDP mailing
lists</ulink> (discuss and docbook)
</para></listitem>

<listitem><para>Sebastian Henschel for reminding me I had promised to write
it all down</para></listitem>

<listitem><para>Erich Schubert for writing the section on DSDTs when I could not</para></listitem>

<listitem><para>Werner Heuser for suggesting I submit the document to The LDP</para></listitem>

<listitem><para>Tabatha Marshall for editing and generally being very enthusiastic about learning DocBook</para></listitem>

<listitem><para>Pavel Machek, Len Brown and Hartwig Felger for patiently answering my questions</para></listitem>

<listitem><para>Werner (again) and Nicolas <quote>nico</quote> Boulay for helping me to update my BIOS at the 2004 <ulink url="http://www.libresoftwaremeeting.org">Libre Software Meeting</ulink></para></listitem>

<listitem><para>Michal <quote>mizu</quote> Zimen for discovering the solution to the acpi_power_off problem</para></listitem>

<listitem><para><ulink url="http://www.traduc.org">Traduc</ulink> for working on the French translation.</para></listitem>

</itemizedlist>
</sect2>

<sect2 id="feedback">
<title>Feedback</title>
	<para>Find something wrong with this document? (Or perhaps something right?) I would love to hear from you. Please email me at <email>emmajane@xtrinsic.com</email>.</para>
</sect2>

<sect2 id="conventions">
<title>Conventions used in this document</title>

<para>The following typographic and usage conventions occur in this text:
</para>

<table id="table-conventions" frame="all">
<title>Typographic and usage conventions</title>
<tgroup cols="2" align="left" colsep="1" rowsep="1">

<thead>
<row><entry>Text type</entry><entry>Meaning</entry></row>
</thead>

<tbody>
<row>
<entry><quote>Quoted text</quote></entry>
<entry>Quotes from people, quoted computer output.</entry>
</row>
<row>
<entry><screen>terminal view</screen></entry>
<entry>Literal computer input and output captured from the terminal.</entry>
</row>
<row>
<entry><command>command</command></entry>
<entry>Name of a command that can be entered on the command line.</entry>
</row>
<row>
<entry><option>option</option></entry>
<entry>Option to a command, as in <quote>the <option>-a</option> option to the 
<command>ls</command> command</quote>.</entry>
</row>
<row>
<entry><parameter>parameter</parameter></entry>
<entry>Parameter to a command, as in <quote>read 
<command>man <parameter>ls</parameter></command></quote>.</entry>
</row>
<row>
<entry><cmdsynopsis><command>command <option>options</option> 
<parameter>arguments</parameter></command></cmdsynopsis></entry>
<entry>Command synopsis or general usage, on a separated line.</entry>
</row>
<row>
<entry><filename>filename</filename></entry>
<entry>Name of a file or directory, for example <quote>Change to the 
<filename class="directory">/usr/bin</filename> directory.</quote></entry>
</row>
<row>
<entry><menuchoice><guimenu>Menu</guimenu><guimenuitem>Choice</guimenuitem>
</menuchoice></entry>
<entry>Choice to select from a graphical menu, for instance: <quote>Select 
<menuchoice><guimenu>Help</guimenu><guimenuitem>About Mozilla</guimenuitem>
</menuchoice> in your browser.</quote></entry>
</row>
<row>
<entry><ulink url="http://www.xtrinsic.com">The author</ulink></entry>
<entry>Click-able link to an external web resource.</entry>
</row>
</tbody>

</tgroup>
</table>

<para>Thanks to Machtelt <quote>Tille</quote> Garrels for this list of conventions.</para>
</sect2>
</sect1>

<sect1 id="aboutacpi">
<?dbhtml filename="aboutacpi.html"?>
<title>About ACPI</title>

<para>In the world of power management ACPI is relatively new to the game.
It was first released in 1996 by 
Compaq/Hewlett-Packard, Intel, Microsoft, Phoenix and Toshiba. These
developers aimed to replace the previous industry standard for power
management. Their <ulink url="http://www.acpi.info">ACPI.info</ulink> site
includes the official specifications, and a list of companies that support ACPI. This is not required reading, but may be of some interest to the curious.</para>

<para><xref linkend="ACPI"/> allows control of power management from within the
operating system. The previous industry standard for power management, Advanced 
Power Management (<xref linkend="APM"/>), is controlled at the <xref linkend="BIOS"/>
level. APM is activated 
when the system becomes idle--the longer the system idles, the less power it
consumes (for example: screen saver, sleep and suspend). 
In APM, the operating system has no knowledge of when the system will
change power states.</para>

<para>ACPI can typically be configured from within the operating system.
This is unlike APM where configuration often involves rebooting and
entering the BIOS configuration screens to set parameters.</para>

<para>ACPI has several different software components:</para>
<itemizedlist>
	<listitem><para>a subsystem which controls hardware states and 
	functions that may have previously been in the BIOS configuration</para>
	
	<para>These states include:</para>
	<itemizedlist>
		<listitem><para>thermal control</para></listitem>
		<listitem><para>motherboard configuration</para></listitem>
		<listitem><para>power states (sleep, suspend)</para></listitem>
	</itemizedlist>
	</listitem>
	
	<listitem><para>a policy manager, which is software that sits on top of
the operating system and allows user input on the system
policies</para></listitem>

	<listitem><para>device drivers that control/monitor devices such as a
laptop battery, SMBus (communication/transmission path) and EC (embedded controller).</para></listitem>
</itemizedlist>

<para>More information on power management in laptops is available from
<ulink url="http://www.tuxmobil.org">tuxmobil.org</ulink>.
Specifically: <ulink url="http://tuxmobil.org/apm_linux.html">Power Management
with Linux - APM, ACPI, PMU</ulink> and the <ulink
url="http://tuxmobil.org/Mobile-Guide.db/mobile-guide-p2c1-hardware-in-detail.html">Hardware in Detail</ulink> section of the
<ulink url="http://tuxmobil.org/Mobile-Guide.db/Mobile-Guide.html">Linux on the Road</ulink>.</para>

<sect2 id="apmtoacpi">
<title>Why switch?</title>
<para>Not all systems support both APM and ACPI. I switched because my
system only supported ACPI. Pretty easy decision really. If you are switching
to get <ulink
url="http://acpi.sourceforge.net/documentation/sleep.html">S3</ulink> (suspend
to RAM) support and you are using a 2.4.x kernel, do not bother. It is <ulink
url="http://lists.debian.org/debian-laptop/2003/debian-laptop-200304/msg00418.html">not supported</ulink>.</para>

<para><ulink url="http://acpi.sf.net">ACPI4Linux</ulink> has a list of <ulink
url="http://acpi.sourceforge.net/wiki/index.php/InstallationReports">supported
machines/BIOSes</ulink> and a list of 
<ulink url="http://acpi.sourceforge.net/documentation/blacklist.html">unsupported machines</ulink>. Please contribute to
the list!</para>

<para>For more information about the power management in laptops you may
(also) find the <ulink
url="http://www.tldp.org/HOWTO/mini/Battery-Powered/index.html">Battery Powered Linux Mini-HOWTO</ulink> useful.</para>
</sect2>

<sect2 id="switch-distro">
<title>Distribution News</title>
<para>As ACPI support matures in Linux there may be some specific things you should know with regards to your distribution. At this time there is very little news to share, but I hope this section will grow with time. Please email me at <email>emmajane@xtrinsic.com</email> if there is anything else that should be reported in this section!</para>

<variablelist>
<title>News for your distro</title>
<varlistentry>
<term>Fedora Core 2</term>
<listitem>
<para>Red Hat Fedora Core 2 now ships with ACPI enabled by default! This
is big progress for the ACPI development team. Congratulations to
everyone. Fedora Core 2 users please skip right past the installation instructions and go directly to <xref linkend="usingacpi" />.</para>
</listitem>
</varlistentry>
</variablelist>

</sect2>
</sect1>

<sect1 id="install">
<?dbhtml filename="install.html"?>
<title>Installing from scratch</title>
<para>ACPI is constantly being revised. It is available in later versions
of the 2.4.x series kernel (2.4.22 and higher), and all 2.6.x series kernels.
You should always use the latest stable version of the kernel that your system will support.
Patches are available from <ulink url="http://acpi.sourceforge.net">acpi.sourceforge.net</ulink>. If you must use a kernel older than version 2.4.22 you will need to <xref linkend="patch" /> your kernel to get ACPI support.</para>


<note>
	<title>Always check for kernel patches</title>
	<para>Even the latest kernel will sometimes have minor bug fixes
	available as a patch. You should check the ACPI4Linux web site to see
	if there are any patches available.</para>

<para>
You need to get the patch that exactly matches the
version of the kernel that you are running. Since this is the 
<quote>install from scratch</quote> section I will assume you know exactly 
which kernel you will be installing.</para>
</note>

<sect2 id="dsdt">
<title>DSDT: Differentiated System Description Table</title>
<para>Thanks to <ulink url="http://www.vitavonni.de/">Erich</ulink> writing this section.</para>

<para>You might need to override the <xref linkend="DSDT" /> when certain features like battery
status are incorrectly reported (usually causing error messages to
syslog). DELL laptops usually need this kind of override. Fixed DSDT for many systems are available on the <ulink url="http://acpi.sourceforge.net/dsdt/index.php">DSDT page</ulink>, along with a patch that tells the kernel to ignore the BIOS-supplied table but use the
compiled-in fixed DSDT.</para>

<para>Basically you need to copy
the fixed table into your kernel source with a special filename (or
modifying the filename in the patch supplied at the <ulink
url="http://acpi.sourceforge.net/dsdt/index.php">DSDT page</ulink>)
This override is quite easy: instead of loading the DSDT table from
BIOS, the kernel uses the compiled-in DSDT table. That is all.</para>
</sect2>

<sect2 id="kernelchoice">
<title>Choosing a kernel</title>
<para>This document was originally written for the 2.4.20 <xref linkend="kernel" /> and has
been updated since to include information about the 2.6.x series kernels.
At the time of this update the 2.6.x series kernels are proving easy for
some and harder for others.</para>

<para>If you can, I would recommend waiting to upgrade your kernel to the
2.6.x series until more bugs are ironed out, and more documentation is 
available. There are a
<emphasis>lot</emphasis> of changes in the 2.6.x series kernel. When I
upgraded to 2.6.5 to update this document I ran into problems with my
wireless connection, my nVidia graphics card, my touch pad, and with ACPI. Your mileage
may vary. I personally had good success with the 2.4.20 with the latest
patch and the 2.4.22 kernel with no patch. (And then I upgraded from 2.4.22 directly to 2.6.5.) A Google through your distribution's mailing list, and the acpi-devel mailing list should help you to pick the right kernel.</para>

<para>Regardless of which kernel you choose, if it is a kernel that
requires patching, it is important to use the latest version of the ACPI patch. Some
distributions have already patched their kernels. This is the case for
Debian, and may be the case for others. For more information on the 
patches that have been applied to the Debian kernel source package scan through:
<filename>/usr/src/kernel-source-&kernel-version;/README.Debian</filename>. If you are not using Debian
look in the <filename class="directory">/usr/src/kernel-source-&kernel-version;</filename> directory for an equivalent file.</para>

<note><title>Using pre-compiled kernels</title>
	<para>I do not use the Debian pre-compiled kernels. I always opt to compile my own kernels using The Debian Way. If you are using your distribution's pre-compiled kernel, please check to make sure it has all relevant ACPI patches applied before you install it.</para></note>

<para>If you are running a production-level server and/or are serving web pages
to the Internet, please also apply any additional security patches. You may have additional patches which must be applied for hardware or software problems specific to your system. Most laptop users should be fine with only the ACPI patch. If possible laptop users should also apply any additional security patches.</para>

<warning>
	<title>Patching a previously patched kernel</title>
<para>If a kernel has had other patches applied to it, you may have
problems applying the ACPI patch. Of course, an ACPI patch should not be
applied to a kernel that is already patched for ACPI.
Depending on the patches applied, you may need to modify some of
the Makefiles for your patch to be successful. This is beyond my current 
grasp of reality so it is not covered in this document.</para></warning>
</sect2>

<sect2 id="backups">
<title>Backups</title>
<para>If you are already running a kernel that is the same version of the
one you are about to patch I recommend creating a fresh
directory for the newly patched kernel. You should create a backup of all important kernel configuration and kernel-related files that may be affected by your work. Remember that backups are <emphasis>never</emphasis> a bad thing and can be easily deleted after your system has been successfully patched.</para>

<example id="ex-backups" xreflabel="Files to backup">
<title>Files to backup</title>
<itemizedlist>
	<listitem><para><filename>/etc/lilo.conf</filename></para></listitem>
	<listitem><para><filename>/usr/src/*.deb</filename>
	 (Debian-specific)</para></listitem>
	<listitem><para><filename>/etc/modules</filename></para></listitem>
	<listitem><para><filename>/etc/modutils/aliases</filename></para></listitem>
	<listitem><para><filename>/usr/src/linux/.config</filename></para></listitem>
</itemizedlist>
	
	<para>If you are <emphasis>not</emphasis> doing things The Debian Way you should also back up the following files:</para>

<itemizedlist>
	<listitem><para><filename class="directory">/lib/modules</filename> (the entire directory)</para></listitem>
	<listitem><para><filename>/boot/vmlinuz</filename></para></listitem>
	<listitem><para><filename>/usr/src/linux/arch/i386/boot/bzImage</filename></para></listitem>
	<listitem><para><filename>/usr/src/System.map</filename></para></listitem>
</itemizedlist>

<para>It is possible the location of these files differs on your system. Use <application>locate</application> as follows if the files are not in the locations specified above: <cmdsynopsis><command>locate <replaceable>&lt;file&gt;</replaceable></command></cmdsynopsis></para>

</example>

</sect2>

<sect2 id="kernelprep">
<title>Download and unpack the kernel source</title>

<sect3 id="requiredpackages">
<title>Required packages</title>
<para>The following is a list of packages required to patch a kernel.</para>

<example id="ex-requiredpackages" xreflabel="Packages required for patching your kernel">
<title>Packages required for patching your kernel</title>
<itemizedlist>
	<title>2.6.x series kernels</title>
	<listitem><para>kernel source files</para></listitem>
	<listitem><para>ACPI patch that exactly matches the kernel
	version</para></listitem>
	<listitem><para>debian packages: binutils, e2fsprogs, gcc, make, module-init-tools, procps, util-linux (see also the list from 2.4)</para></listitem>
</itemizedlist>

<para>
<caution><title>Learn more about the 2.6 kernel before you upgrade</title>
<para>This HOWTO does not include information on how to migrate from a 2.4 series kernel to a 2.6 series kernel. Please read the resources listed in <xref linkend="ref-upgrade-26" /> before attempting a kernel upgrade.</para></caution>
</para>

<itemizedlist>
	<title>2.4.x series kernels</title>
	<listitem><para>kernel source files</para></listitem>
	<listitem><para>ACPI patch that exactly matches the kernel
	version</para></listitem>
	<listitem><para>debian packages: make, bzip2, gcc, libc6-dev, tk8.3,
	libncurses5-dev, kernel-package</para></listitem>
</itemizedlist>
</example>
</sect3>

<sect3 id="get-kernel-source">
<?dbhtml filename="get-kernel-source.html"?>
<title>Getting the Source Files</title>
<para>Download a fresh kernel from <ulink
url="http://www.kernel.org">www.kernel.org</ulink>. You need to make sure you
get a full kernel. Find the <quote>latest stable version of the Linux kernel</quote> 
and click on <option>F</option> for FULL. Wait patiently. A bzipped kernel 
is about 26M. If you are feeling particularly geeky you could also grab the file from the command line with <application>wget</application>.</para>

<tip><para>You may or may not want the latest stable version. For more information
read the <xref linkend="kernelchoice" /> section of
this document. If you decide to use a version of the kernel that is not
published on the front page, use the <ulink
url="http://www.kernel.org/pub/linux/kernel/">/pub/linux/kernel</ulink>
directory on the <ulink url="http://www.kernel.org">kernel.org</ulink> 
site to find the kernel you would like.</para></tip>

<example id="ex-downloadkernel" xreflabel="Download the kernel and patch">
<title>Download the kernel and patch</title>
<blockquote>
<procedure>
	<step><cmdsynopsis><command>wget <filename>http://kernel.org/pub/linux/kernel/v2.4/linux-&kernel-version;.tar.bz2</filename></command></cmdsynopsis></step>
	<step><para>Download the latest patch for your kernel. This may or may not be the newest patch available. Please look carefully. For example: if you are using the 2.4.20 kernel you would get <filename>acpi-20021212-2.4.20.diff.gz</filename>. The patches can be downloaded from: <ulink url="http://prdownloads.sourceforge.net/acpi"/>.</para></step>
	<step><para>Note the revision date. In this example above the date is 20021212 (December 12, 2002), but it will almost certainly be different for your kernel. You will need to know this number when you check to make sure the patch worked.</para></step>
</procedure>
</blockquote>
</example>
</sect3>

<sect3 id="unpack" xreflabel="Unpack">
<title>Unpack</title>
<para>You will need to unpack the bz2 file (bzip2) and move the directories into place.
<filename class="directory">/usr/src/linux</filename> probably points 
to your current kernel. This link must point to the new kernel, you will update that link now as well.</para>

<example id="ex-unpack" xreflabel="Unpacking your kernel source files">
<title>Unpacking your kernel source files</title>
<blockquote>
<procedure>
	<step><para>
		<command>
			cd <filename class="directory">/usr/src</filename>
		</command>
	</para></step>

	<step><para>
		<command>tar <option>xjfv</option> 
		<filename>linux.&kernel-version;.tar.bz2</filename></command>
	</para></step>
	
	<step><para>
		<command>rm <filename>linux</filename></command> 
		 (assuming it is a link to your old kernel)
	</para></step>

	<step><para>
		<command>ln <option>-s</option>
		<filename>/usr/src/linux.&kernel-version;</filename>
		<filename>linux</filename>
		</command>
	</para></step>
</procedure>
</blockquote>
</example>

<para>If your kernel needs to be patched, do so now.
Full instructions are available from <xref linkend="howto-patch" /> or you can skip right to the step-by-step instructions at <xref linkend="ex-patch" />.</para>
</sect3>
</sect2>


<sect2 id="kernelconfig">
<title>Configure the new kernel</title>

<note>
	<title>Patch Your Kernel First</title>
	<para>If you are using an old kernel you will need to patch it before
	you can proceed. Instructions on patching your kernel are available
	from <xref linkend="howto-patch" />. Always check to see if your kernel should be patched.</para>
</note>

<para>Use <command>make <parameter>oldconfig</parameter></command> to configure your new kernel. Using <parameter>oldconfig</parameter> instead of <parameter>menuconfig</parameter> allows you to start with the options you have selected in your current kernel and prompts you to select your preference for all new kernel options. This is much easier than looking for all of the new options by hand. For everything specific to ACPI and your 
hardware (if you use a Toshiba choose the Toshiba options, Asus choose the Asus
options) choose <option>M</option> for module. There are about ten
different ACPI related options that you will need to select.</para>

<example id="ex-configure" xreflabel="Configuring your kernel">
<title>Configuring your kernel</title>

<para>Please also read the list of <xref linkend="known-issues" />.</para>

<blockquote>
<procedure>
	<step><para>
		<command>cd 
		<filename class="directory">/usr/src/linux</filename>
		</command>
	</para></step>
	
	<step><para>
		<command>cp 
		<filename>/usr/src/<replaceable>&lt;oldkernel-source-directory&gt;</replaceable>/.config</filename>
		<filename>.config</filename>
		</command>
	</para></step>
	
	<step><para>
	<command>make <parameter>oldconfig</parameter></command> 
	(say <option>M</option> to all new options for
	ACPI--you can also say <quote><option>Y</option></quote> if you prefer to compile it directly into your kernel)
	</para></step>

	<step><para>Please confirm the kernel is properly configured:</para>
		
		<procedure>
			<step><para><command>make <parameter>menuconfig</parameter></command></para></step>
			<step><para>Select <quote><menuchoice><guimenu>General Setup</guimenu></menuchoice></quote></para></step>
			<step><para>Confirm <menuchoice><guimenuitem>Power Management Support</guimenuitem></menuchoice> 
		is ON</para></step>
			<step><para>Confirm <menuchoice><guimenuitem>APM (Advanced Power Management)</guimenuitem></menuchoice> is OFF (this is the old style of power management that is being replaced)</para></step>
			<step><para>Check everything to do with ACPI. Options related to your hardware should be <option>M</option> (modules) or <option>*</option> (compiled directly into the kernel). Read the list <emphasis>carefully</emphasis>. Some options will not apply to your hardware.</para></step>
			<step><para>Exit and save the new configuration</para></step>
		</procedure>
	</step>
</procedure>
</blockquote>

</example>

</sect2>

<sect2 id="kernelcompile">
<title>Compile and install the new kernel</title>
<para>It is now time to compile the kernel. These instructions are for Debian users. If you are not using Debian, or you do not like compiling your kernel The Debian Way, please read <xref linkend="nodebkernel" /> for more help.</para>

<para>If you have additional modules that are not part of the main source
tree, you will need to add <parameter>modules_image</parameter> when you make your Debian
packages. This is almost inevitable if you are using a laptop and an older
kernel. I still need this option even in the 2.6.6 kernel due to my nVidia graphics card.</para>

<example id="ex-compile-deb" xreflabel="Compiling the kernel The Debian Way">
<title>Compiling the kernel The Debian Way</title>

<para>Each of these steps should be performed as the root user.</para>

<blockquote>
<procedure>
<step><para><command>cd <filename class="directory">/usr/src/linux</filename></command></para></step>
<step><para><command>make-kpkg <parameter>clean</parameter></command></para></step>
<step><para><command>make-kpkg <option>--append-to-version=.&kernel-name;</option> <parameter>kernel_image</parameter> <parameter>modules_image</parameter></command></para></step>
</procedure>
</blockquote>

<para>I no longer use <replaceable>.date</replaceable> to distinguish 
kernel builds. It was too frustrating to have 030627a, 032627b (etc) as I tried to figure things out. I now use names, in alphabetical order, starting with the kernel build <quote>alien</quote>. My current kernel build is <quote>Ulairi.</quote> (The machine itself is <quote>Smeagol</quote>--a name it has earned.)</para>
</example>

<para>Now that the kernel is compiled it can be <quote>installed.</quote> For Debian users this means installing the Debian package file you created in the last step and then loading the new kernel into <application>lilo</application>. I like to configure lilo on my own and have provided the instructions here, but I leave that decision up to you.</para>

<example id="ex-kernel-install" xreflabel="Install the new kernel">
<title>Install the new kernel</title>

<para>Each of these steps should be performed as the root user.</para>

<blockquote>
<procedure>
<step><para><command>cd <filename class="directory">/usr/src</filename></command></para></step>
<step><para><command>dpkg <option>-i</option> kernel-image-&kernel-version;.&kernel-name;_10.00.Custom_i386.deb</command></para></step>

<step><para>At this point I decline <emphasis>all</emphasis> the lilo updates and configure it myself by hand.
	</para></step>
	
<step><para>To configure lilo:</para>
	<procedure>
		<step><para><command>vi <filename>/etc/lilo.conf</filename></command></para></step>
		<step><para>Scroll to the end of the file and look for a line that starts with <parameter>image=</parameter>.</para></step>
		<step><para>Create an entry for your new kernel by adding the following three lines:</para>
<programlisting>
image=/vmlinuz
label=&kernel-name;
read-only
</programlisting>
		</step>
		<step><para>Update the entry for your old kernel so that it points to the right <filename>vmlinuz</filename> file. You can use either <filename>vmlinuz.old</filename> if this is your first time recompiling the kernel, or look in <filename class="directory">/boot</filename> for the correct file.</para></step>
		<step><para>If you would like, you can update the kernel that is selected by default by changing the <parameter>default=</parameter> parameter.</para></step>
	</procedure>
</step>

	<step><para>
	load the new kernel into lilo by running <application>lilo</application> from the command line. You need only type: <command>lilo</command>
	</para></step>
	
	<step><para>
	If you have any other deb files for your modules you should
	install them now as well. If you are not sure check
	<filename class="directory">/usr/src</filename> for additional
	<filename class="extension">.deb</filename> files.
	</para></step>
</procedure>
</blockquote>

</example>

</sect2>

<sect2 id="finishinstall" xreflabel="Reboot and test">
<title>Reboot and test</title>
<para>At this point you should reboot your machine. When your system comes
back up (assuming of course that everything went well and you still have a
system), you will need to check that you are running the new kernel with the correct patch.</para>

<example id="ex-check-revision" xreflabel="Confirm installed kernel and ACPI patch version">
<title>Confirm installed kernel and ACPI patch version</title>

<para>First you need to make sure you are running the correct kernel. This can be done with the command line tool <application>uname</application>. The
revision is the date the patch was released and will be different for each kernel release.</para>

<para>
<userinput>
&prompt; <command>uname <option>-a</option></command>
</userinput>
</para>

<para>Assuming you are indeed running the new kernel, you can now check the ACPI's revision date with the following command.</para>

<para>
<userinput>&prompt; <command>cat <filename>/proc/acpi/info</filename></command>
</userinput>
</para>

<para>This may give you only a version number, or a more detailed list. You are looking for the line that starts with <parameter>version:</parameter>.</para>

<para>If for some reason that gives you no information, you can also check the message printed when ACPI was first loaded as the system was booting. This information can be printed to a terminal window with the application <application>dmesg</application>.</para>

<para>
<userinput>&prompt; <command>dmesg</command> | <command>grep <parameter>ACPI.*Subsystem\ revision</parameter></command>
</userinput>
</para>

<para>It should give the output: 
<computeroutput>ACPI: Subsystem revision 20040326</computeroutput>. The revision number is the date the patch was originally released by the development team. If you patched your kernel according to <xref linkend="howto-patch"/> this number will match the patch that you installed in <xref linkend="ex-patch" />.</para>

<para>To read all the ACPI-related information, you can expand the pattern that <application>grep</application> matches and selectively print all ACPI messages:</para>
	
<para>
<userinput>&prompt; <command>dmesg</command> | <command>grep <parameter>ACPI</parameter></command> </userinput>
</para>
</example>

</sect2>

<sect2 id="loadmodules" xreflabel="Load related modules">
<title>Load related modules</title>
<para>Check to see that each of the ACPI modules have been loaded after
your machine boots. You can do this with the command
<command>lsmod</command>. You are looking for the following options:
button, battery, fan, ac, thermal and processor. If you chose
<quote>Y</quote> instead of modules when you compiled your kernel, you
will not see this list. The output on my computer looks like this:</para>

<screen>
Module                  Size  Used by    Tainted: P  
button                  2420   0 (unused)
battery                 5960   0 (unused)
ac                      1832   0 (unused)
fan                     1608   0 (unused)
thermal                 6664   0 (unused)
processor               8664   0 [thermal]
NVdriver              945408  11 
</screen>

<para>The last module is my graphics card, which uses proprietary drivers. This
is why I have a <quote>P</quote> next to Tainted on the top line.</para>

<para>If you compiled ACPI support in as <quote>M</quote>odules and you
do not see the ACPI modules listed you will need to load the modules by
hand. The modules should be in
<filename
class="directory">/lib/modules/&kernel-version;.
&kernel-name;/kernel/drivers/acpi/</filename>, and are as
follows:</para>

<screen>
-rw-r--r--    1 root     root         4.1k Jun  3 23:57 ac.o
-rw-r--r--    1 root     root         9.5k Jun  3 23:57 battery.o
-rw-r--r--    1 root     root         5.2k Jun  3 23:57 button.o
-rw-r--r--    1 root     root         3.7k Jun  3 23:57 fan.o
-rw-r--r--    1 root     root          14k Jun  3 23:57 processor.o
-rw-r--r--    1 root     root          11k Jun  3 23:57 thermal.o
-rw-r--r--    1 root     root         6.2k Jun  3 23:57 toshiba_acpi.o
</screen>

<note>
	<title>Extensions on Modules</title>
<para>The module name is the bit
before <filename class="extension">.o</filename> extension on a module
filename. <filename>processor.o</filename> is the file, and processor is
the module name. To install a loadable kernel module use: 
<command>insmod <replaceable>processor</replaceable></command>. </para>
	<para>
		The 2.4.x series kernels use the extension <filename
		class="extension">.o</filename>; however, the 2.6.x
		series kernel use the extension <filename
		class="extension">.ko</filename>.
	</para>
</note>

<para>The first time I rebooted I loaded them all by hand, typing
<command>insmod <replaceable>&lt;modulename&gt;</replaceable></command>. 
I personally load processor
first, although there are mixed feelings on whether or not the order
matters.</para>

<note>
<title>Operating System Power Management (OSPM)</title>
<para>The first time I tried this the modules were all in separate
directories and were ospm_&lt;name&gt;. This was probably because I was
using an old patch, but it is something to be aware of. The OSPM modules
are now deprecated so hopefully you will not see them.</para>
</note>

<para>To prevent having to load
the modules each time you reboot you can do one of two things: compile them
directly into the kernel (bit late for that though, eh?), or add them to
your <filename>/etc/modules</filename> file. If you do not already have a copy of the
file just create a new one and add each module name (remember, no
dot-o) on a separate line. You can also try running
<command>update-modules</command> which should automatically update your
<filename>/etc/modules.conf</filename> configuration file.</para>
</sect2>
</sect1>


<sect1 id="usingacpi" xreflabel="Using ACPI">
<?dbhtml filename="usingacpi.html"?>
<title>Using ACPI</title>

<para>There are a few different applications/daemons you should install
on your system: <application>acpid</application> (the daemon that will control your hardware states), and a monitoring program. I personally use <application>wmacpi</application>. There are lots to choose from in <xref linkend="ref-software"/>.</para>

<sect2 id="apm2acpi" xreflabel="Switching from APM to ACPI">
<?dbhtml filename="apm2acpi.html"?>
<title>Switching from APM to ACPI</title>
<para>Do not let <application>apmd</application> and
<application>acpid</application> run at the same time unless you REALLY know
what you are doing. Debian will <emphasis>not</emphasis> make sure only one is running
at a time. You will have to check.</para>

<para>APM will try to put your system into S3. On the 2.4.x (and before) series
kernels this will probably cause your machine to lock up. S3 is not supported
until at least 2.5.x. Even the patch will not provide support for S3 in the
2.4.x series kernels. I completely removed APM support from the kernel, and removed the <application>apmd</application> daemon from my system. On Debian this was as easy as <command>apt-get remove apmd</command>.</para>
</sect2>

<sect2 id="proc-acpi-files">
<title>/proc/acpi files</title>
<para>You can also look in each of the ACPI files individually for
information about your system. Look in the <filename
class="directory">/proc/acpi</filename> directory
for various things of importance. If I want to check my battery I read the
following file like this: <command>cat
<filename>/proc/acpi/battery/BAT0/state</filename></command>. The output is as follows:</para>
    
<screen>
present:                 yes
capacity state:          ok
charging state:          discharging &lt;-- running off battery
present rate:            unknown
remaining capacity:      3920 mAh &lt;-- watch this number
present voltage:         14800 mV
</screen>

<screen>
present:                 yes
capacity state:          ok
charging state:          discharging
present rate:            unknown
remaining capacity:      3840 mAh &lt;-- capacity getting smaller
present voltage:         14800 mV
</screen>

<screen>
present:                 yes
capacity state:          ok
charging state:          charging &lt;-- AC adapter plugged in
present rate:            unknown
remaining capacity:      3840 mAh
present voltage:         14800 mV
</screen>

<para>If I want information about my battery in general I check it out like
this: <command>cat <filename>/proc/acpi/battery/BAT0/info</filename></command></para>

<screen>
present:                 yes
design capacity:         3920 mAh
last full capacity:      3920 mAh
battery technology:      rechargeable
design voltage:          14800 mV
design capacity warning: 30 mAh
design capacity low:     20 mAh
capacity granularity 1:  10 mAh
capacity granularity 2:  3470 mAh
model number:            Bat0
serial number:              
battery type:            Lion
OEM info:                Acer
</screen>

<para>For more information on each of these files, please read <ulink url="http://acpi.sourceforge.net/documentation/index.html" />.</para>
</sect2>

</sect1>


<appendix id="howto-patch">
<?dbhtml filename="howto-patch.html"?>
<title>Patching Kernels</title>
<para>If you are using a 2.4.x series kernel, the kernel will need to be patched
before you can add ACPI support. Although ACPI is included in the 2.6.x
series kernels you should check to see if any patches have been released
to fix bugs. You can find this information on the ACPI4Linux site.</para>

<sect1 id="kernelpatch" xreflabel="Patch">
<?dbhtml filename="kernelpatch.html"?>
<title>Patch</title>
<para>Now you are going to actually patch the kernel. I take one extra step from
<ulink url="http://acpi.sourceforge.net/download.html">the instructions</ulink> at
ACPI4Linux. Instead of gunzipping and patching in the same line, I use two lines.
This is purely a matter of preference. When you patch the kernel you want
to make sure there are no error messages. (There is no <quote>yay</quote> line, instead
look for the absence of errors.)</para>

<example id="ex-patch" xreflabel="Patching your kernel">
<title>Patching your kernel</title>
<para>These steps should be performed as the root user.</para>
<blockquote>
<procedure>
	<step><para>
		<command>cd 
		<filename class="directory">/usr/src/linux</filename></command>
	</para></step>

		
	<step><para>
		<command>cp 
		<filename>acpi-20021212-2.4.20.diff.gz</filename>
		<filename>/usr/src/linux/.</filename>
		</command>
		(Your patch filename will be different if you are not using the
		2.4.20 kernel.)
	</para></step>
	
	<step><para>
		<command>gunzip  
		<filename>acpi-20021212-2.4.20.diff.gz</filename></command>
	</para></step>
	
	<step><para>
		<command>patch <option>-p<parameter>1</parameter></option> &lt;
		<filename>acpi-20021212-2.4.20.diff</filename>
		</command> 
	 (this is the actual patching part)
	</para></step>
</procedure>
</blockquote>
</example>

<para>Once you have finished patching your kernel, continue reading at <xref
linkend="kernelconfig"/>.
</para>
</sect1>
</appendix>

<appendix id="nodebkernel">
<?dbhtml filename="nodebkernel.html"?>
<title>Compiling Kernels the Non-Debian Way</title>
<para>There is very little difference between The Debian Way and the
generic way. In fact it is probably only 10 or so lines of difference.</para>

<sect1 id="nodebcompile" xreflabel="Compile the kernel">
<?dbhtml filename="nodebcompile.html"?>
<title>Compile the kernel</title>
<para>The <quote>normal</quote> way of compiling a kernel does not use
<command>make-kpkg</command>. Instead, it uses the following steps:</para>

<example id="ex-compilenodeb" xreflabel="Compile the kernel">
<title>Compile the kernel</title>
<blockquote>
<procedure>
	<step><para>
		<command>cd 
		<filename class="directory">/usr/src/linux</filename>
		</command> which should point to the kernel (unzipped) files
	</para></step>
	
	<step><para>
		<command>make <parameter>dep</parameter></command>
	</para></step>
	
	<step><para>
		<command>make <parameter>clean</parameter></command>
	</para></step>
	
	<step><para>
		<command>make <parameter>bzImage</parameter></command>
	</para></step>
	
	<step><para>
		<command>make <parameter>modules</parameter></command>
		(remember to unpack your modules first)
	</para></step>
</procedure>
</blockquote>
</example>
</sect1>

<sect1 id="nodebinstall" xreflabel="Install the new kernel">
<?dbhtml filename="nodebinstall.html"?>
<title>Install the new kernel</title>
<para>In <citetitle>The Debian Way</citetitle>, you create a deb file which contains information about where the kernel is (and makes the kernel and yada-yada). In the <quote>normal</quote> way, you put things where they need to be right away. You need to install your modules and then configure lilo to point to the new kernel and then run
lilo. If you are not doing things <citetitle>The Debian Way</citetitle> your <quote>install</quote> will look like this:</para>

<example id="ex-nodebinstall" xreflabel="Install the new kernel">
<title>Install the new kernel</title>

<blockquote>
<procedure>
	<step><para>
		<command>cd 
		<filename class="directory">/usr/src/linux</filename>
		</command>
	</para></step>	
	
	<step><para>
		<command>make
		<parameter>modules_install</parameter></command>
	</para></step>
	
	<step><para>
		<command>cp 
		<filename>arch/i386/boot/bzImage</filename>
		<filename>/boot/vmlinuz.&kernel-name;</filename>
		</command>
	</para></step>
	
	<step><para>
	<command>vi <filename>/etc/lilo.conf</filename></command> and copy the structure of your
	existing kernel. Do NOT delete the reference to your existing kernel! You need 
	to point lilo to the <quote>vmlinuz</quote> file that was created when you compiled the
	kernel above
	</para></step>
	
	<step><para><command>lilo</command> (yup, just exactly like that.) 
	<xref linkend="LILO" /> will let you know if it is going to have major problems loading 
	the new kernel.
	</para></step>
</procedure>
</blockquote>
</example>

<warning>
<para>Do NOT forget to run lilo before rebooting. Type
<command>lilo</command>. It is that easy (and that easy to forget).</para>
</warning>
</sect1>

<sect1 id="nodebsoftware" xreflabel="Software packages">
<?dbhtml filename="nodebsoftware.html"?>
<title>Software packages</title>
<para>You can still use all of the software mentioned in this HOWTO even if
you are not using Debian. Unfortunately it will take a little more effort on
your part to download and install everything. Fortunately it is really not
that difficult. Most software packages include a README file when you
gunzip them which will explain what you need to do to get things working on
your system.</para>

<tip>
	<title>Software downloads</title>
	<para>
	  For more information about software for ACPI, please use the
	  <xref linkend="ref-software" />.
	</para>
</tip>
</sect1>
</appendix>

<appendix id="known-issues" xreflabel="Known Issues">
<?dbhtml filename="known-issues.html"?>
<title>Known Issues</title>
<para>There are a number of problems which have been identified for various laptop models. Please scan through this list before you finish compiling the kernel to see if your hardware is affected by any of the following problems. You may also want to use this as a trouble shooting guide after installing your system if you are still having problems.</para>

<para>Known issues for the 2.4 kernel include:</para>
<itemizedlist>
<listitem><para>DPMS (Energy Star) features try to suspend the laptop</para></listitem>
</itemizedlist>


<para>Known issues for the 2.6 kernel include:</para>

<itemizedlist>
<listitem><para>acpi_power_off hangs</para></listitem>
<listitem><para>touch pad/mouse or keyboard freezes</para></listitem>
</itemizedlist>

<sect1 id="known-issues-24" xreflabel="2.4 series kernels">
<?dbhtml filename="known-issues-24.html"?>
<title>2.4 series kernels</title>

<sect2 id="dpms-features" xreflabel="DPMS features">
<title>DPMS features</title>
<para>This is not a bug exactly, but it is something to be aware of. The
<application>XFree86</application> server has an option for <xref linkend="DPMS"/> (Energy Star) features. The DPMS states can be one of standby, suspend,  off or on. Since the 2.4.x kernels
cannot suspend to disk, this can cause problems. I fixed my system by doing
two things:</para>

<procedure>
	<step><para>
		<command>xset <option>-dpms</option></command> (disables DPMS features)
	</para></step>
	
	<step><para>
		In <filename>/etc/X11/XF86Config-4</filename> I commented out
	the line <option>Option "DPMS"</option> under Section "Monitor".</para></step>
</procedure>
</sect2>

</sect1>

<sect1 id="known-issues-26" xreflabel="2.6 series kernels">
<?dbhtml filename="known-issues-26.html"?>
<title>2.6 series kernels</title>

<sect2 id="acpi_power_off-hangs">
	<title>acpi_power_off hangs in 2.6</title>
	<para>There are a couple of solutions to this problem, depending on your laptop.</para>

	<para>The easiest option to try is to remove the <xref linkend="APIC"/> options at boot time. This has been reported to work on a Sony TR2. In the <filename>/etc/lilo.conf</filename> file look for a line that has <parameter>append=""</parameter>. Inside the quotes add the words <option>nolapic</option> and <option>noapic</option>.</para>
	

<example id="ex-appendlilo" xreflabel="Updating the append directive in LILO">
	<title>Updating the append directive in LILO</title>
	<para>Open and edit the <filename>/etc/lilo.conf</filename> configuration file as root. Add the appropriate instructions to the existing append statement. If there is not an append statement you can add one right before the list of boot disk images. In my <filename>/etc/lilo.conf</filename> it would look like this:</para>

<screen>

<parameter>append="<option>nolapic</option> <option>noapic</option>"</parameter>

default="&kernel-name;"
image=/vmlinuz
label=&kernel-name;
read-only

</screen>

	<para>After editing the configuration file, load the new information by running the command <command>lilo</command> as root.</para>

	<screen><userinput>&rop; <command>lilo</command></userinput></screen>
	
</example>

	<para>You can also remove these two modules from the kernel completely by removing the following kernel options: <option>CONFIG_X86_UP_APIC</option>, <option>CONFIG_X86_UP_IOAPIC</option>. This is what I have done with my Acer TravelMate.</para>
	
	<para>Acer TravelMates should also disable the <xref linkend="RTC" />-related modules. They are not needed for <quote>normal</quote> operation.</para>

	<para>The following kernel modules should be unselected to allow the notebook to power off correctly:</para>

	<itemizedlist>
	<listitem>
	<para><option>CONFIG_HPET_EMULATE_RTC</option></para>
	</listitem>
	<listitem>
	<para><option>CONFIG_RTC</option></para>
	</listitem>
	<listitem>
	<para><option>CONFIG_SND_RTCTIMER</option></para>
	</listitem>
	</itemizedlist>

<para>Thank you to mizu for discovering this solution!</para>

</sect2>

<sect2 id="touchpad-freezes">
<title>Touchpad/Mouse or Keyboard Freezes</title>
	<para>Karl Hegbloom emailed me to say that <quote>keyboard
keys sticking, touch pad pointer jumping suddenly across the screen,
lockups under heavy network I/O [was] caused by
polling the battery state via ACPI and the proc file system.</quote> This
problem is caused by a delay between the initial request for
information about the battery's status and the response. In that delay
communication with the keyboard or touch pad may be temporarily interrupted causing the device to become out of sync (jumpy) or the communication lost (freeze).
<quote>The overnight solution is to either turn off
the battery applet, or reduce its polling frequency.</quote> Karl also
notes that a BIOS update was also able to solve the problem. Thanks Karl!</para>

<para>
	I did not find this to be a problem for me in the 2.4.x kernels,
	however, it was a problem when I upgraded to 2.6.5. I use
	<application>wmacpi</application> to monitor my battery status. By
	setting the polling frequency to 1 (the lowest possible number), I seem
	to have eliminated the touch pad lockups. In my
	<filename>.xinitrc</filename> file I use:
</para>

<para>
<userinput>
<command>/usr/bin/wmacpi</command> <parameter>-s 1</parameter>
</userinput>
</para>

<para>
	The <parameter>-s 1</parameter> represents the polling frequency
	(sample rate) of <quote>once per minute.</quote> The default is 20.
</para>

<caution>
<para>If you recently upgraded to the 2.6 series kernel, make sure your touch pad drivers are correctly installed as well. You may find the following KernelTrap article useful if you are not sure where to start: <ulink url="http://kerneltrap.org/node/view/2199" />.</para>
</caution>

</sect2>
</sect1>

</appendix>

<appendix id="gfdl">
<title>GNU Free Documentation License</title>
<!-- - GNU Project - Free Software Foundation (FSF) -->
<!-- LINK REV="made" HREF="mailto:webmasters@gnu.org" -->
<!-- http://www.gnu.org/copyleft/fdl.html -->


  <!-- sect1>
    <title>GNU Free Documentation License</title -->

    <para>Version 1.1, March 2000</para>

    <blockquote>
      <para>Copyright (C) 2000  Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.</para>
    </blockquote>

  <sect1 id="gfdl-0">
    <title>PREAMBLE</title>

    <para>The purpose of this License is to make a manual, textbook,
    or other written document "free" in the sense of freedom: to
    assure everyone the effective freedom to copy and redistribute it,
    with or without modifying it, either commercially or
    noncommercially.  Secondarily, this License preserves for the
    author and publisher a way to get credit for their work, while not
    being considered responsible for modifications made by
    others.</para>

    <para>This License is a kind of "copyleft", which means that
    derivative works of the document must themselves be free in the
    same sense.  It complements the GNU General Public License, which
    is a copyleft license designed for free software.</para>

    <para>We have designed this License in order to use it for manuals
    for free software, because free software needs free documentation:
    a free program should come with manuals providing the same
    freedoms that the software does.  But this License is not limited
    to software manuals; it can be used for any textual work,
    regardless of subject matter or whether it is published as a
    printed book.  We recommend this License principally for works
    whose purpose is instruction or reference.</para>
  </sect1>

  <sect1 id="gfdl-1">
    <title>APPLICABILITY AND DEFINITIONS</title>

    <para>This License applies to any manual or other work that
    contains a notice placed by the copyright holder saying it can be
    distributed under the terms of this License.  The "Document",
    below, refers to any such manual or work.  Any member of the
    public is a licensee, and is addressed as "you".</para>

    <para>A "Modified Version" of the Document means any work
    containing the Document or a portion of it, either copied
    verbatim, or with modifications and/or translated into another
    language.</para>

    <para>A "Secondary Section" is a named appendix or a front-matter
    section of the Document that deals exclusively with the
    relationship of the publishers or authors of the Document to the
    Document's overall subject (or to related matters) and contains
    nothing that could fall directly within that overall subject.
    (For example, if the Document is in part a textbook of
    mathematics, a Secondary Section may not explain any mathematics.)
    The relationship could be a matter of historical connection with
    the subject or with related matters, or of legal, commercial,
    philosophical, ethical or political position regarding
    them.</para>

    <para>The "Invariant Sections" are certain Secondary Sections
    whose titles are designated, as being those of Invariant Sections,
    in the notice that says that the Document is released under this
    License.</para>

    <para>The "Cover Texts" are certain short passages of text that
    are listed, as Front-Cover Texts or Back-Cover Texts, in the
    notice that says that the Document is released under this
    License.</para>

    <para>A "Transparent" copy of the Document means a
    machine-readable copy, represented in a format whose specification
    is available to the general public, whose contents can be viewed
    and edited directly and straightforwardly with generic text
    editors or (for images composed of pixels) generic paint programs
    or (for drawings) some widely available drawing editor, and that
    is suitable for input to text formatters or for automatic
    translation to a variety of formats suitable for input to text
    formatters.  A copy made in an otherwise Transparent file format
    whose markup has been designed to thwart or discourage subsequent
    modification by readers is not Transparent.  A copy that is not
    "Transparent" is called "Opaque".</para>

    <para>Examples of suitable formats for Transparent copies include
    plain ASCII without markup, Texinfo input format, LaTeX input
    format, SGML or XML using a publicly available DTD, and
    standard-conforming simple HTML designed for human modification.
    Opaque formats include PostScript, PDF, proprietary formats that
    can be read and edited only by proprietary word processors, SGML
    or XML for which the DTD and/or processing tools are not generally
    available, and the machine-generated HTML produced by some word
    processors for output purposes only.</para>

    <para>The "Title Page" means, for a printed book, the title page
    itself, plus such following pages as are needed to hold, legibly,
    the material this License requires to appear in the title page.
    For works in formats which do not have any title page as such,
    "Title Page" means the text near the most prominent appearance of
    the work's title, preceding the beginning of the body of the
    text.</para>
  </sect1>

  <sect1 id="gfdl-2">
    <title>VERBATIM COPYING</title>

    <para>You may copy and distribute the Document in any medium,
    either commercially or noncommercially, provided that this
    License, the copyright notices, and the license notice saying this
    License applies to the Document are reproduced in all copies, and
    that you add no other conditions whatsoever to those of this
    License.  You may not use technical measures to obstruct or
    control the reading or further copying of the copies you make or
    distribute.  However, you may accept compensation in exchange for
    copies.  If you distribute a large enough number of copies you
    must also follow the conditions in section 3.</para>

    <para>You may also lend copies, under the same conditions stated
    above, and you may publicly display copies.</para>
  </sect1>

  <sect1 id="gfdl-3">
    <title>COPYING IN QUANTITY</title>

    <para>If you publish printed copies of the Document numbering more
    than 100, and the Document's license notice requires Cover Texts,
    you must enclose the copies in covers that carry, clearly and
    legibly, all these Cover Texts: Front-Cover Texts on the front
    cover, and Back-Cover Texts on the back cover.  Both covers must
    also clearly and legibly identify you as the publisher of these
    copies.  The front cover must present the full title with all
    words of the title equally prominent and visible.  You may add
    other material on the covers in addition.  Copying with changes
    limited to the covers, as long as they preserve the title of the
    Document and satisfy these conditions, can be treated as verbatim
    copying in other respects.</para>

    <para>If the required texts for either cover are too voluminous to
    fit legibly, you should put the first ones listed (as many as fit
    reasonably) on the actual cover, and continue the rest onto
    adjacent pages.</para>

    <para>If you publish or distribute Opaque copies of the Document
    numbering more than 100, you must either include a
    machine-readable Transparent copy along with each Opaque copy, or
    state in or with each Opaque copy a publicly-accessible
    computer-network location containing a complete Transparent copy
    of the Document, free of added material, which the general
    network-using public has access to download anonymously at no
    charge using public-standard network protocols.  If you use the
    latter option, you must take reasonably prudent steps, when you
    begin distribution of Opaque copies in quantity, to ensure that
    this Transparent copy will remain thus accessible at the stated
    location until at least one year after the last time you
    distribute an Opaque copy (directly or through your agents or
    retailers) of that edition to the public.</para>

    <para>It is requested, but not required, that you contact the
    authors of the Document well before redistributing any large
    number of copies, to give them a chance to provide you with an
    updated version of the Document.</para>
  </sect1>

  <sect1 id="gfdl-4">
    <title>MODIFICATIONS</title>

    <para>You may copy and distribute a Modified Version of the
    Document under the conditions of sections 2 and 3 above, provided
    that you release the Modified Version under precisely this
    License, with the Modified Version filling the role of the
    Document, thus licensing distribution and modification of the
    Modified Version to whoever possesses a copy of it.  In addition,
    you must do these things in the Modified Version:</para>

    <orderedlist numeration="upperalpha">
      <listitem><para>Use in the Title Page
      (and on the covers, if any) a title distinct from that of the
      Document, and from those of previous versions (which should, if
      there were any, be listed in the History section of the
      Document).  You may use the same title as a previous version if
      the original publisher of that version gives permission.</para>
      </listitem>

      <listitem><para>List on the Title Page,
      as authors, one or more persons or entities responsible for
      authorship of the modifications in the Modified Version,
      together with at least five of the principal authors of the
      Document (all of its principal authors, if it has less than
      five).</para>
      </listitem>

      <listitem><para>State on the Title page
      the name of the publisher of the Modified Version, as the
      publisher.</para>
      </listitem>

      <listitem><para>Preserve all the
      copyright notices of the Document.</para>
      </listitem>

      <listitem><para>Add an appropriate
      copyright notice for your modifications adjacent to the other
      copyright notices.</para>
      </listitem>

      <listitem><para>Include, immediately
      after the copyright notices, a license notice giving the public
      permission to use the Modified Version under the terms of this
      License, in the form shown in the Addendum below.</para>
      </listitem>

      <listitem><para>Preserve in that license
      notice the full lists of Invariant Sections and required Cover
      Texts given in the Document's license notice.</para>
      </listitem>

      <listitem><para>Include an unaltered
      copy of this License.</para>
      </listitem>

      <listitem><para>Preserve the section
      entitled "History", and its title, and add to it an item stating
      at least the title, year, new authors, and publisher of the
      Modified Version as given on the Title Page.  If there is no
      section entitled "History" in the Document, create one stating
      the title, year, authors, and publisher of the Document as given
      on its Title Page, then add an item describing the Modified
      Version as stated in the previous sentence.</para>
      </listitem>

      <listitem><para>Preserve the network
      location, if any, given in the Document for public access to a
      Transparent copy of the Document, and likewise the network
      locations given in the Document for previous versions it was
      based on.  These may be placed in the "History" section.  You
      may omit a network location for a work that was published at
      least four years before the Document itself, or if the original
      publisher of the version it refers to gives permission.</para>
      </listitem>

      <listitem><para>In any section entitled
      "Acknowledgements" or "Dedications", preserve the section's
      title, and preserve in the section all the substance and tone of
      each of the contributor acknowledgements and/or dedications
      given therein.</para>
      </listitem>

      <listitem><para>Preserve all the
      Invariant Sections of the Document, unaltered in their text and
      in their titles.  Section numbers or the equivalent are not
      considered part of the section titles.</para>
      </listitem>

      <listitem><para>Delete any section
      entitled "Endorsements".  Such a section may not be included in
      the Modified Version.</para>
      </listitem>

      <listitem><para>Do not retitle any
      existing section as "Endorsements" or to conflict in title with
      any Invariant Section.</para>
      </listitem>
    </orderedlist>
    
    <para>If the Modified Version includes new front-matter sections
    or appendices that qualify as Secondary Sections and contain no
    material copied from the Document, you may at your option
    designate some or all of these sections as invariant.  To do this,
    add their titles to the list of Invariant Sections in the Modified
    Version's license notice.  These titles must be distinct from any
    other section titles.</para>

    <para>You may add a section entitled "Endorsements", provided it
    contains nothing but endorsements of your Modified Version by
    various parties--for example, statements of peer review or that
    the text has been approved by an organization as the authoritative
    definition of a standard.</para>

    <para>You may add a passage of up to five words as a Front-Cover
    Text, and a passage of up to 25 words as a Back-Cover Text, to the
    end of the list of Cover Texts in the Modified Version.  Only one
    passage of Front-Cover Text and one of Back-Cover Text may be
    added by (or through arrangements made by) any one entity.  If the
    Document already includes a cover text for the same cover,
    previously added by you or by arrangement made by the same entity
    you are acting on behalf of, you may not add another; but you may
    replace the old one, on explicit permission from the previous
    publisher that added the old one.</para>

    <para>The author(s) and publisher(s) of the Document do not by
    this License give permission to use their names for publicity for
    or to assert or imply endorsement of any Modified Version.</para>
  </sect1>

  <sect1 id="gfdl-5">
    <title>COMBINING DOCUMENTS</title>

    <para>You may combine the Document with other documents released
    under this License, under the terms defined in section 4 above for
    modified versions, provided that you include in the combination
    all of the Invariant Sections of all of the original documents,
    unmodified, and list them all as Invariant Sections of your
    combined work in its license notice.</para>

    <para>The combined work need only contain one copy of this
    License, and multiple identical Invariant Sections may be replaced
    with a single copy.  If there are multiple Invariant Sections with
    the same name but different contents, make the title of each such
    section unique by adding at the end of it, in parentheses, the
    name of the original author or publisher of that section if known,
    or else a unique number.  Make the same adjustment to the section
    titles in the list of Invariant Sections in the license notice of
    the combined work.</para>

    <para>In the combination, you must combine any sections entitled
    "History" in the various original documents, forming one section
    entitled "History"; likewise combine any sections entitled
    "Acknowledgements", and any sections entitled "Dedications".  You
    must delete all sections entitled "Endorsements."</para>
  </sect1>

  <sect1 id="gfdl-6">
    <title>COLLECTIONS OF DOCUMENTS</title>

    <para>You may make a collection consisting of the Document and
    other documents released under this License, and replace the
    individual copies of this License in the various documents with a
    single copy that is included in the collection, provided that you
    follow the rules of this License for verbatim copying of each of
    the documents in all other respects.</para>

    <para>You may extract a single document from such a collection,
    and distribute it individually under this License, provided you
    insert a copy of this License into the extracted document, and
    follow this License in all other respects regarding verbatim
    copying of that document.</para>
  </sect1>

  <sect1 id="gfdl-7">
    <title>AGGREGATION WITH INDEPENDENT WORKS</title>
    
    <para>A compilation of the Document or its derivatives with other
    separate and independent documents or works, in or on a volume of
    a storage or distribution medium, does not as a whole count as a
    Modified Version of the Document, provided no compilation
    copyright is claimed for the compilation.  Such a compilation is
    called an "aggregate", and this License does not apply to the
    other self-contained works thus compiled with the Document, on
    account of their being thus compiled, if they are not themselves
    derivative works of the Document.</para>

    <para>If the Cover Text requirement of section 3 is applicable to
    these copies of the Document, then if the Document is less than
    one quarter of the entire aggregate, the Document's Cover Texts
    may be placed on covers that surround only the Document within the
    aggregate.  Otherwise they must appear on covers around the whole
    aggregate.</para>
  </sect1>

  <sect1 id="gfdl-8">
    <title>TRANSLATION</title>

    <para>Translation is considered a kind of modification, so you may
    distribute translations of the Document under the terms of section
    4.  Replacing Invariant Sections with translations requires
    special permission from their copyright holders, but you may
    include translations of some or all Invariant Sections in addition
    to the original versions of these Invariant Sections.  You may
    include a translation of this License provided that you also
    include the original English version of this License.  In case of
    a disagreement between the translation and the original English
    version of this License, the original English version will
    prevail.</para>
  </sect1>

  <sect1 id="gfdl-9">
    <title>TERMINATION</title>
    
    <para>You may not copy, modify, sublicense, or distribute the
    Document except as expressly provided for under this License.  Any
    other attempt to copy, modify, sublicense or distribute the
    Document is void, and will automatically terminate your rights
    under this License.  However, parties who have received copies, or
    rights, from you under this License will not have their licenses
    terminated so long as such parties remain in full
    compliance.</para>
  </sect1>

  <sect1 id="gfdl-10">
    <title>FUTURE REVISIONS OF THIS LICENSE</title>

    <para>The Free Software Foundation may publish new, revised
    versions of the GNU Free Documentation License from time to time.
    Such new versions will be similar in spirit to the present
    version, but may differ in detail to address new problems or
    concerns.  See <ulink
    url="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</ulink>.</para>

    <para>Each version of the License is given a distinguishing
    version number.  If the Document specifies that a particular
    numbered version of this License "or any later version" applies to
    it, you have the option of following the terms and conditions
    either of that specified version or of any later version that has
    been published (not as a draft) by the Free Software Foundation.
    If the Document does not specify a version number of this License,
    you may choose any version ever published (not as a draft) by the
    Free Software Foundation.</para>
  </sect1>

  <sect1 id="gfdl-11">
    <title>How to use this License for your documents</title>

    <para>To use this License in a document you have written, include
    a copy of the License in the document and put the following
    copyright and license notices just after the title page:</para>

<blockquote><para>
      Copyright (c)  YEAR  YOUR NAME.
      Permission is granted to copy, distribute and/or modify this document
      under the terms of the GNU Free Documentation License, Version 1.1
      or any later version published by the Free Software Foundation;
      with the Invariant Sections being LIST THEIR TITLES, with the
      Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.
      A copy of the license is included in the section entitled "GNU
      Free Documentation License".
</para></blockquote>

    <para>If you have no Invariant Sections, write "with no Invariant
    Sections" instead of saying which ones are invariant.  If you have
    no Front-Cover Texts, write "no Front-Cover Texts" instead of
    "Front-Cover Texts being LIST"; likewise for Back-Cover
    Texts.</para>

    <para>If your document contains nontrivial examples of program
    code, we recommend releasing these examples in parallel under your
    choice of free software license, such as the GNU General Public
    License, to permit their use in free software.</para>
  </sect1>

</appendix>

<glossary id="glossary" xreflabel="Glossary">
<?dbhtml filename="glossary.html"?>
<title>Glossary</title>
<abstract>
	<para>Terms and definitions for the many <xref linkend="TLA" />s in this document. Some entries are modified from the <ulink url="http://www.tldp.org/LDP/Linux-Dictionary/">Linux Dictionary</ulink>.</para>
</abstract>

<glossdiv>
	<title>A</title>
	<glossentry id="ACPI">
		<glossterm>ACPI</glossterm>
		<glossdef><para>Abbreviation for Advanced Control and Power Interface. Allows control of power management from within the operating system.</para> <para>See also: <xref linkend="APM" /></para></glossdef>
	</glossentry>
	
	<glossentry id="APIC">
		<glossterm>APIC</glossterm>
		<glossdef><para>Abbreviation for Advanced Programmable Interrupt Controller. A set of devices that make up an interrupt controller for multi-processor support. It consists of three parts: local APIC, In/Out APIC and an APIC bus.</para></glossdef>
	</glossentry>
	
	<glossentry id="APM">
		<glossterm>APM</glossterm>
		<glossdef><para>Abbreviation for Advanced Power Management. Power management from within the BIOS. Replaced by ACPI.</para> <para>See also: <xref linkend="ACPI" /></para>
		<para>See also: <xref linkend="BIOS"/></para></glossdef>
	</glossentry>
</glossdiv>

<glossdiv>
	<title>B</title>
	<glossentry id="BIOS">
	<glossterm>BIOS</glossterm>
	<glossdef><para>Abbreviation for Basic Input/Output System. Services that allow the hardware and software of a computer to communicate.</para></glossdef>
	</glossentry>
</glossdiv>

<glossdiv>
	<title>D</title>

	<glossentry id="debian">
	<glossterm>Debian</glossterm>
	<glossdef><para>The distribution of Linux used by the author. <ulink url="http://www.debian.org" /></para></glossdef>
	</glossentry>
	
	<glossentry id="DPMS">
	<glossterm>DPMS</glossterm>
	<glossdef><para>Abbreviation for Display Power Management Signaling. A standard developed to extend the life of PC monitors and conserve energy when monitors are not in use.</para></glossdef>
	</glossentry>
	
	<glossentry id="DSDT">
	<glossterm>DSDT</glossterm>
	<glossdef><para>Abbreviation for Differentiated System Description Table. This table contains information and configuration about the base system. It is not always capable of supplying fully function tables and sometimes must be patched.</para>
	<para>See also: <xref linkend="patch" />, <ulink url="http://acpi.sourceforge.net/dsdt/index.php" />.</para></glossdef>
	</glossentry>
</glossdiv>

<glossdiv>
	<title>L</title>
	<glossentry id="LILO">
	<glossterm>LILO</glossterm>
	<glossdef><para>Abbreviation for LInux LOader. Installs the boot loader which decides the operating system to use when the computer is first turned on. You may have Grub installed instead.</para></glossdef>
	</glossentry>
</glossdiv>

<glossdiv>
	<title>K</title>
	<glossentry id="kernel">
	<glossterm>kernel</glossterm>
	<glossdef><para>The core of an operating system. Responsible for many things including managing resources, sharing memory and user access.</para>
	<para>See also: <ulink url="http://www.kernel.org"/></para></glossdef>
	</glossentry>
</glossdiv>

<glossdiv>
	<title>M</title>
	<glossentry id="module">
	<glossterm>module</glossterm>
	<glossdef><para>A piece of code that can be loaded or unloaded from the main program. In this document module refers to kernel modules.</para>
	<para>See also: <xref linkend="kernel" /></para></glossdef>
	</glossentry>
</glossdiv>

<glossdiv>
	<title>P</title>
	<glossentry id="patch">
	<glossterm>patch</glossterm>
	<glossdef><para>A fix applied to the source code of a program. Used to correct bugs or enhance a program's capabilities.</para></glossdef>
	</glossentry>
</glossdiv>

<glossdiv>
	<title>R</title>
	<glossentry id="RTC">
	<glossterm>RTC</glossterm>
	<glossdef><para>Abbreviation for Real Time Clock. Used by the system to keep track of time while the computer is powered off.</para>
	<para>See also: <ulink url="http://www.linuxgazette.com/node/view/8993"/></para>
	</glossdef>
	</glossentry>
</glossdiv>

<glossdiv>
	<title>T</title>
	<glossentry id="TLA">
	<glossterm>TLA</glossterm>
	<glossdef><para>Abbreviation for Three Letter Acronym. Developers love to use their TLAs. Most of the time they do not even notice.</para></glossdef>
	</glossentry>
</glossdiv>

</glossary>

<bibliography id="resources">
<?dbhtml filename="resources.html"?>
<title>References and Resources</title>

<bibliodiv id="ref-howto" xreflabel="HOWTOs">
<title>HOWTOs</title>

	<biblioentry>
	<title>HOWTO install ACPI under Linux</title>
	<bibliosource><ulink url="http://sylvestre.ledru.info/howto/howto_acpi.php" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>Linux ACPI-HOWTO</title>
	<bibliosource><ulink url="http://www.columbia.edu/~ariel/acpi/acpi_howto.txt" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>Linux on the road</title>
	<bibliosource><ulink url="http://tuxmobil.org/Mobile-Guide.db/Mobile-Guide.html" /></bibliosource>
	</biblioentry>
	
	<biblioentry>
	<title>Hardware in Detail</title>
	<bibliosource><ulink url="http://tuxmobil.org/Mobile-Guide.db/mobile-guide-p2c1-hardware-in-detail.html" /></bibliosource>
	</biblioentry>
	
	<biblioentry>
	<title>Power Management with Linux - APM, ACPI, PMU</title>
	<bibliosource><ulink url="http://tuxmobil.org/apm_linux.html" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>Battery Powered Linux Mini-HOWTO</title>
	<bibliosource><ulink url="http://www.tldp.org/HOWTO/mini/Battery-Powered/" /></bibliosource>
	</biblioentry>
	
	<biblioentry>
	<title>Creating custom kernels with Debian's Kernel-Package system</title>
	<bibliosource><ulink url="http://newbiedoc.sourceforge.net/system/kernel-pkg.html"/></bibliosource>
	</biblioentry>
</bibliodiv>

<bibliodiv id="ref-installreports" xreflabel="Hardware-specific Install Reports and Info">
	<title>Hardware-specific Install Reports and Info</title>
	
	<biblioentry>
	<title>Installation Reports</title>
	<bibliosource><ulink url="http://acpi.sourceforge.net/wiki/index.php/InstallationReports"/></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>Blacklist</title>
	<bibliosource><ulink url="http://acpi.sourceforge.net/documentation/blacklist.html"/></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>DSDT: Overview</title>
	<bibliosource><ulink url="http://acpi.sourceforge.net/dsdt/index.php" /></bibliosource>
	<abstract><para>Includes links to patched DSDTs and HOWTOs about patching your own DSDT.</para></abstract>
	</biblioentry>

	<biblioentry>
	<title>BIOS Settings for the AcerTM (Phoenix BIOS)</title>
	<bibliosource><ulink url="http://help.nec-computers.com/au/pri/item_instr_bios_7521N.asp" /></bibliosource>
	</biblioentry>
</bibliodiv>

<bibliodiv id="ref-softwaredev" xreflabel="Software Development Groups">
	<title>Software Development Groups</title>
	
	<biblioentry>
	<title>ACPI4Linux</title>
	<bibliosource><ulink url="http://acpi.sf.net"/></bibliosource>
	</biblioentry>

	<biblioentry>	
	<title>ACPI Special Interest Group</title>
	<bibliosource><ulink url="http://www.acpi.info/" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>Intel</title>
	<bibliosource><ulink url="http://developer.intel.com/technology/iapc/acpi/" /></bibliosource>
	</biblioentry>
</bibliodiv>

<bibliodiv id="ref-articles" xreflabel="ACPI Articles">
	<title>ACPI articles</title>
	
	<biblioentry>
		<title>Fan Speed Control Techniques in PCs</title>
		<bibliosource><ulink url="http://www.analog.com/library/analogDialogue/archives/34-04/fan/" /></bibliosource>
	</biblioentry>
</bibliodiv>

<bibliodiv id="ref-mailinglist" xreflabel="Mailing List Threads">
<title>Mailing List Threads</title>
	<biblioentry>
	<title>debian-laptop thread: can't restore from suspend</title>
	<bibliosource><ulink url="http://lists.debian.org/debian-laptop/2003/debian-laptop-200304/msg00367.html" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>acpi-support thread: newbie HOWTO and debian patching</title>
	<bibliosource><ulink url="http://sourceforge.net/mailarchive/forum.php?forum_id=7803&amp;max_rows=25&amp;style=flat&amp;viewmonth=200304&amp;viewday=17" /></bibliosource>
	</biblioentry>
	
	<biblioentry>
	<title>debian-laptop thread: acer 634 acpi &amp; apm</title>
	<bibliosource><ulink url="http://lists.debian.org/debian-laptop/2002/debian-laptop-200212/msg00242.html" /></bibliosource>
	</biblioentry>
</bibliodiv>

<bibliodiv id="ref-software" xreflabel="ACPI packages and related software">
<title>ACPI packages and related software</title>
	<biblioentry>
	<title>The Kernel</title>
	<bibliosource><ulink url="http://www.kernel.org" /></bibliosource>
	<abstract><para>Remember to choose "F" for full when you download your
	kernel source.</para></abstract>
	</biblioentry>
	
	<biblioentry>
	<title>ACPI kernel patch</title>
	<bibliosource><ulink url="http://sourceforge.net/project/showfiles.php?group_id=36832" /></bibliosource>
	<abstract><para>Be sure to pick the version which exactly matches your kernel.</para></abstract>
	</biblioentry>
	
	<biblioentry>
	<title>ACPI daemon <application>acpid</application></title>
	<bibliosource><ulink url="http://sourceforge.net/projects/acpid" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title><application>acpi</application></title>
	<bibliosource><ulink url="http://grahame.angrygoats.net/acpi.shtml" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title><application>Kacpi</application></title>
	<bibliosource><ulink url="http://www.elektronikschule.de/~genannt/kacpi/download.html" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title><application>aKpi</application></title>
	<bibliosource><ulink url="http://akpi.scmd.at/" /></bibliosource>
	</biblioentry>
	
	<biblioentry>
	<title><application>wmacpi</application></title>
	<bibliosource><ulink url="http://www.ne.jp/asahi/linux/timecop/" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title><application>wmacpi+clecourt</application></title>
	<bibliosource><ulink url="http://open.iliad.fr/~clecourt/wmacpi/index.html" /></bibliosource>
	<abstract><para>WindowMaker DockApp (another graphical interface). Handles two
	battery slots.</para></abstract>
	</biblioentry>
</bibliodiv>

<bibliodiv id="ref-upgrade-26" xreflabel="Migrating to the 2.6 series kernels">
<title>Migrating to the 2.6 series kernels</title>
	<biblioentry>
	<title>HowTo Upgrade to the 2.6 Kernel</title>
	<bibliosource><ulink url="http://kerneltrap.org/node/view/799" /></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>Kernel Build HOWTO</title>
	<bibliosource><ulink url="http://www.digitalhermit.com/linux/Kernel-Build-HOWTO.html"/></bibliosource>
	</biblioentry>

	<biblioentry>
	<title>The post-Halloween document</title>
	<bibliosource><ulink url="http://www.codemonkey.org.uk/post-halloween-2.5.txt"/></bibliosource>
	</biblioentry>
</bibliodiv>


</bibliography>

</article>
